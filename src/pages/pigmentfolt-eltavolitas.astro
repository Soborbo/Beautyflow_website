---
import { Image } from 'astro:assets';
import Layout from '../layouts/Layout.astro';
import LocationsSection from '../components/LocationsSection.astro';

// Image imports
import notinoIcon from '../assets/images/notino-ikon.png';
import googleLogo from '../assets/images/google-logo.jpg';
import pigmentfoltArckezeles from '../assets/images/pigmentfolt-arckezeles.jpg';
import konyaFanniSzepsegszalon from '../assets/images/Konya-Fanni-szepsegszalon.jpg';
import pigmentfoltLezer from '../assets/images/pigmentfolt-lezer.jpg';
import pigmentfoltKezeles from '../assets/images/pigmentfolt-kezeles.jpg';
import pigmentfoltKonzultacio from '../assets/images/pigmentfolt-konzultacio.jpg';
import pigmentfoltElotteUtana3 from '../assets/images/pigmentfolt-eltavolitas3.jpeg';
import pigmentfoltElotteUtana4 from '../assets/images/pigmentfolt-eltavolitas4.jpeg';
import hydrabeautyArckezeles from '../assets/images/hydrabeauty-arckezeles-beautyflow.jpg';
import notinoLogo from '../assets/images/logok/notino-logo-sm.jpg';
import skinlabLogo from '../assets/images/logok/skinlab.webp';
import mestersegesIntelligenciaGep from '../assets/images/mesterseges-intelligencia-szortelenito-gep.jpg';
import konyaFanniSzepsegszalonja from '../assets/images/konya-fanni-szepsegszalonja.jpg';
import testmeretImg from '../assets/images/testmeret.jpg';
import higieniaImg from '../assets/images/higienia.jpg';
import nyitvaImg from '../assets/images/nyitva.jpg';

const stats = [
  { value: '10+ év', label: 'tapasztalat' },
  { value: 'Nd:YAG', label: 'lézeres kezelés' },
  { value: '100%', label: 'elégedett vendég' },
  { value: '1', label: 'kezelés elegendő' },
];

const testimonials = [
  {
    text: 'Évek óta küzdöttem a napfoltokkal az arcomon. 4 kezelés után szinte teljesen eltűntek! Végre magabiztosan mehetek smink nélkül is.',
    author: 'Katalin',
  },
  {
    text: 'A terhesség után megjelent pigmentfoltok nagyon zavartak. A Beautyflow csapata csodát tett – a bőröm újra egyenletes és ragyogó.',
    author: 'Réka',
  },
  {
    text: 'Profi csapat, látványos eredmény. A kezelés fájdalommentes volt, és már az első alkalom után láttam a változást.',
    author: 'Zsófia',
  }
];

const treatments = [
  { area: '1 pigmentfolt', sessions: '1 alkalom', price: '10 000 Ft' },
  { area: '2 pigmentfolt', sessions: '1 alkalom', price: '15 000 Ft' },
  { area: '3 pigmentfolt', sessions: '1 alkalom', price: '20 000 Ft' },
  { area: '4 pigmentfolt', sessions: '1 alkalom', price: '25 000 Ft' },
  { area: '5 pigmentfolt', sessions: '1 alkalom', price: '30 000 Ft' },
  { area: 'Minden további pigmentfolt', sessions: '', price: '+5 000 Ft / folt' },
];

const packages: { area: string; originalPrice: string; price: string; discount: string }[] = [];

const howItWorks = [
  {
    number: '1.',
    title: 'Bőranalízis és konzultáció',
    description: 'Alaposan megvizsgáljuk a pigmentfoltjaid típusát, mélységét és okát. Személyre szabott kezelési tervet készítünk, hogy a lehető legjobb eredményt érjük el.'
  },
  {
    number: '2.',
    title: 'Előkészítés és védelem',
    description: 'A kezelendő területet megtisztítjuk és előkészítjük. A szemet védőszemüveggel védjük, a környező bőrfelületet pedig speciális géllel kezeljük.'
  },
  {
    number: '3.',
    title: 'Nd:YAG lézeres kezelés',
    description: 'A lézer energiája célzottan a pigmentben nyelődik el, lebontja a pigmentet anélkül, hogy károsítaná a környező szöveteket. A kezelés gyors és kíméletes.'
  },
  {
    number: '4.',
    title: 'Utóápolás és eredmény',
    description: 'A kezelt területen 7–10 nap alatt a pörk magától leesik. A regenerációs időszakban speciális krémmel és 50 SPF fényvédővel kell ápolni a bőrt.'
  }
];

const faqs = [
  { question: 'Milyen típusú pigmentfoltokat lehet kezelni?', answer: 'Napfoltokat, öregségi foltokat, terhességi melazmát, szeplőket és egyéb melanin-túltermelésből adódó elszíneződéseket egyaránt kezelhetünk az Nd:YAG lézerrel. A konzultáción meghatározzuk a folt típusát és a megfelelő kezelési módszert.' },
  { question: 'Fájdalmas a pigmentfolt eltávolítás?', answer: 'A kezelés enyhe csípést vagy melegséget okozhat. A legtöbb vendégünk jól tolerálja, és nem igényel érzéstelenítést.' },
  { question: 'Hány kezelés szükséges?', answer: 'Általában 1 kezelés elegendő a kívánt eredmény eléréséhez. Amennyiben a pigmentáció jellege miatt ismétlő kezelés válik szükségessé, annak díja az aktuális kezelés árának 50%-a.' },
  { question: 'Mikor látható az eredmény?', answer: 'A kezelt területen ideiglenes pörk alakulhat ki, amely egyénfüggően általában 7–10 nap alatt magától leesik. Az eredmény ezt követően válik láthatóvá.' },
  { question: 'Van-e leállási idő?', answer: 'A kezelt területen 7-10 napig pörk lehet a bőrön. Amíg nincs pörk a bőrön, a sminkelés nem megengedett. A gyógyulási idő alatt a kezelt területet speciális krémmel és 50 SPF fényvédővel kell ápolni.' },
  { question: 'Milyen évszakban érdemes elkezdeni?', answer: 'Ősszel és télen ideális, amikor kevesebb a napsugárzás. Nyáron fokozott fényvédelem mellett is végezhető, de a napozást kerülni kell a kezelés előtt és után.' },
  { question: 'Visszajöhetnek a pigmentfoltok?', answer: 'A sikeresen kezelt pigmentfoltok nem térnek vissza, de új foltok kialakulhatnak UV-sugárzás hatására. Ezért fontos a rendszeres 50 SPF fényvédő használata.' },
  { question: 'Ki nem alkalmas a kezelésre?', answer: 'Terhesség, szoptatás, aktív bőrgyulladás, friss barnulás vagy bizonyos gyógyszerszedés esetén nem javasolt. A konzultáción minden ellenjavallatot átbeszélünk.' },
  { question: 'Kombinálható más kezelésekkel?', answer: 'Igen! A HydraBeauty vagy Carbon Peeling kezelés kiválóan kiegészíti a pigmentfolt eltávolítást, serkenti a bőrmegújulást és fokozza az eredményt.' },
  { question: 'Mennyire biztonságos a kezelés?', answer: 'Teljesen biztonságos. EU-minősített, orvostechnikai Nd:YAG lézer készülékkel dolgozunk, és csak képzett szakemberek végzik a kezelést.' },
];
---

<Layout
  title="Pigmentfolt Eltávolítás Budapest - Nd:YAG Lézerkezelés | Beautyflow"
  description="Professzionális pigmentfolt eltávolítás Budapesten Nd:YAG lézerrel. Napfoltok, öregségi foltok, terhességi foltok hatékony kezelése. Általában 1 kezelés elegendő! Kérj ingyenes konzultációt!"
  ogImage="/images/pigmentfolt-arckezeles.jpg"
>
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  })} />

  <!-- Breadcrumb Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Főoldal",
        "item": "https://beautyflow.pro/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Pigmentfolt Eltávolítás",
        "item": "https://beautyflow.pro/pigmentfolt-eltavolitas"
      }
    ]
  })} />

  <!-- Service Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Service",
    "serviceType": "Pigmentfolt eltávolítás",
    "name": "Pigmentfolt Eltávolítás Budapest",
    "description": "Professzionális pigmentfolt eltávolítás Budapesten Nd:YAG lézerrel. Napfoltok, öregségi foltok hatékony kezelése.",
    "provider": {
      "@type": "LocalBusiness",
      "name": "Beautyflow Szépségszalon",
      "image": "https://beautyflow.pro/images/beautyflow-logo.png",
      "address": [
        {
          "@type": "PostalAddress",
          "streetAddress": "Vegyész u. 1.",
          "addressLocality": "Budapest",
          "postalCode": "1116",
          "addressCountry": "HU"
        },
        {
          "@type": "PostalAddress",
          "streetAddress": "Reitter Ferenc u. 90.",
          "addressLocality": "Budapest",
          "postalCode": "1135",
          "addressCountry": "HU"
        }
      ],
      "telephone": "+36 1 300 9414",
      "priceRange": "$$"
    },
    "areaServed": {
      "@type": "City",
      "name": "Budapest"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Pigmentfolt eltávolítás szolgáltatások",
      "itemListElement": treatments.map(item => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": `Pigmentfolt eltávolítás - ${item.area}`
        },
        "price": item.price.replace(/[^0-9]/g, ''),
        "priceCurrency": "HUF"
      }))
    }
  })} />

  <!-- Hero Section -->
  <section class="hero-section relative lg:h-[calc(100dvh-60px)] flex flex-col">
    <div class="flex flex-col lg:flex-row flex-1 min-h-0">
      <!-- Left column: Text content -->
      <div class="w-full lg:w-1/2 flex flex-col justify-center py-6 lg:py-8 order-2 lg:order-1 bg-[#fff9f7]">
        <div class="w-full px-[6%] text-center">
          <!-- Notino Award Badge -->
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full blur-sm opacity-50"></div>
              <div class="relative bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 p-1 rounded-full">
                <div class="bg-white rounded-full p-1">
                  <Image src={notinoIcon} alt="Notino" class="w-8 h-8" width={32} height={32} format="webp" quality={80} loading="lazy" />
                </div>
              </div>
            </div>
            <div class="text-left">
              <div class="flex items-center gap-1">
                <svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                <span class="text-xs font-semibold text-gray-700 uppercase tracking-wide">Díjnyertes szalon</span>
              </div>
              <span class="text-sm font-bold text-[#c53f75]">Notino "Hónap Szalonja"</span>
            </div>
          </div>

          <h1 class="text-[#c53f75] font-semibold uppercase tracking-wider text-sm lg:text-base mb-2">
            Pigmentfolt eltávolítás Budapesten
          </h1>
          <h2 class="font-heading text-[1.75rem] lg:text-[2.25rem] text-gray-900 mb-3 uppercase leading-tight">
            Búcsúzz el a zavaró foltoktól és nyerd vissza egyenletes bőröd
          </h2>
          <p class="text-gray-600 mb-6 text-base lg:text-lg max-w-lg mx-auto">
            Napfoltok, öregségi foltok vagy terhességi pigmentáció? Modern Nd:YAG lézeres technológiánkkal célzottan kezeljük a pigmentfoltokat – általában már 1 kezelés elegendő!
          </p>

          <!-- CTA row -->
          <div class="flex flex-col items-center justify-center gap-2">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg text-sm lg:text-base"
            >
              Ingyenes konzultációt kérek
            </a>
            <a
              href="tel:+3613009414"
              class="inline-flex items-center gap-2 text-base lg:text-lg text-[#c53f75] font-bold hover:text-[#a33460] transition-all duration-300"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              +36 1 300 9414
            </a>
          </div>
        </div>
      </div>

      <!-- Right column: Hero image -->
      <div class="w-full lg:w-1/2 order-1 lg:order-2 relative overflow-hidden min-h-[300px] lg:min-h-0">
        <Image
          src={pigmentfoltArckezeles}
          alt="Pigmentfolt eltávolítás Budapest"
          class="w-full h-full object-cover"
          format="webp"
          quality={80}
          loading="eager"
          fetchpriority="high"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent lg:hidden"></div>

        <!-- Google Rating Badge -->
        <div class="absolute bottom-3 left-3 lg:bottom-5 lg:left-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl p-2 lg:p-3">
          <div class="flex items-center gap-2">
            <Image src={googleLogo} alt="Google" class="w-7 h-7 lg:w-9 lg:h-9 rounded-full" width={36} height={36} format="webp" quality={80} loading="lazy" />
            <div>
              <div class="flex items-center gap-1">
                <span class="text-base lg:text-xl font-bold text-gray-900 rating-number" data-target="5.0">0</span>
                <div class="flex">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-2.5 h-2.5 lg:w-3.5 lg:h-3.5 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
              <p class="text-[9px] lg:text-[11px] text-gray-600">Google értékelés alapján</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="w-full bg-gradient-to-r from-[#c53f75] to-[#a33460] py-4 lg:h-[80px] flex-shrink-0 flex items-center justify-center">
      <div class="max-w-[1000px] mx-auto px-4 w-full">
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-8 h-full items-center">
          {stats.map((stat, index) => (
            <div class="text-center stat-item py-2 lg:py-0" style={`animation-delay: ${index * 100}ms`}>
              <p class="text-[24px] lg:text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">
                {stat.value}
              </p>
              <p class="text-white/80 text-[12px] lg:text-[16px] leading-[0.9]">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Intro Section with Fanni -->
  <section class="section-animate py-12 lg:py-16 bg-gradient-to-br from-[#fdf8f6] via-[#fff] to-[#f8f4f9]">
    <div class="max-w-[1100px] mx-auto px-4">
      <!-- White card containing both image and text -->
      <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
        <div class="flex flex-col lg:flex-row">
          <!-- Image - full width on mobile, stretch to fill height on desktop -->
          <div class="w-full lg:w-2/5 flex-shrink-0 relative">
            <Image
              src={konyaFanniSzepsegszalon}
              alt="Kónya Fanni pigmentfolt kezelés szakértő"
              class="w-full h-auto lg:absolute lg:inset-0 lg:h-full object-cover object-top"
              format="webp"
              quality={80}
              loading="lazy"
            />
            <!-- Mobile signature - right below image -->
            <div class="lg:hidden flex items-center gap-3 p-4 bg-gray-50 border-t border-gray-100">
              <div class="w-10 h-10 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-5 h-5 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div class="leading-tight">
                <p class="text-[#c53f75] font-semibold text-sm mb-0">Kónya Fanni</p>
                <p class="text-gray-500 text-xs mb-0">ügyvezető</p>
              </div>
            </div>
          </div>
          <!-- Text content -->
          <div class="w-full lg:w-3/5 p-6 lg:p-8 flex flex-col justify-center">
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              Tudom, mennyire bosszantó lehet, amikor a tükörben az egyenletes bőr helyett zavaró pigmentfoltokat látsz. Lehetnek ezek a nyaralások emlékei, a terhesség nyomai, vagy egyszerűen az idő múlásának jelei – <strong>de ez nem jelenti azt, hogy együtt kell élned velük</strong>.
            </p>
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              A Beautyflow szalonban <strong>Nd:YAG lézeres kezeléssel</strong> dolgozunk, amely célzottan a pigmentsejtekre hat, miközben a környező bőrt kíméletesen kezeli. A kezelés során a lézer energiája a pigmentben nyelődik el, így segít halványítani és eltüntetni a nem kívánt foltokat.
            </p>
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              Fontos tudnod, hogy a regeneráció egyénfüggő: általában <strong>7–10 nap alatt</strong> a kezelt területen kialakuló var leesik, és amint már nincs pörk a bőrön, a sminkelés újra megengedett.
            </p>
            <p class="text-gray-700 mb-6 text-base leading-relaxed">
              <strong>Ha eleged van abból, hogy alapozóval próbálod elfedni a pigmentfoltokat, gyere el hozzánk egy ingyenes konzultációra, és megmutatjuk, hogyan segíthetünk!</strong>
            </p>
            <!-- Desktop signature -->
            <div class="hidden lg:flex items-center gap-3 pt-4 border-t border-gray-200">
              <div class="w-12 h-12 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-6 h-6 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div class="leading-tight">
                <p class="text-[#c53f75] font-semibold mb-0">Kónya Fanni</p>
                <p class="text-gray-500 text-sm mb-0">ügyvezető</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 1: Célzott kezelés - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <Image
          src={pigmentfoltLezer}
          alt="IPL pigmentfolt kezelés"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
          format="webp"
          quality={80}
          loading="lazy"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Nd:YAG lézeres technológia
          </h2>
          <p class="text-gray-700 mb-6">
            Az Nd:YAG lézeres kezelés <strong>célzottan a pigmentet tartalmazó sejtekre hat</strong>. A lézer energiája a pigmentben nyelődik el, így a kezelés a foltok mélységéhez és jellegéhez igazítható, miközben az egészséges bőrszövet kíméletesen kezelt marad.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 2: Minden folttípusra - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Minden pigmentfolt típusra megoldás
          </h2>
          <p class="text-gray-700 mb-6">
            Legyen szó <strong>napfoltokról, öregségi foltokról, terhességi melazmáról vagy szeplőkről</strong> – az Nd:YAG lézeres kezelés hatékony megoldást nyújt a különböző típusú pigmentációk kezelésére. A konzultáció során meghatározzuk a pigmentfoltok típusát és mélységét, hogy személyre szabott kezelési tervet állíthassunk össze a lehető legszebb és legbiztonságosabb eredmény érdekében.
          </p>
          <div class="text-center">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Kérj Ingyenes konzultációt
            </a>
          </div>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <Image
          src={pigmentfoltElotteUtana4}
          alt="Pigmentfolt eltávolítás előtte-utána eredmény"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
          format="webp"
          quality={80}
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 3: Látványos eredmény - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <Image
          src={pigmentfoltElotteUtana3}
          alt="Pigmentfolt eltávolítás előtte-utána arc"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
          format="webp"
          quality={80}
          loading="lazy"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Látványos eredmény
          </h2>
          <p class="text-gray-700 mb-6">
            Az Nd:YAG lézeres kezelés során a pigmentfoltok <strong>hatékonyan halványodnak vagy teljesen eltűnnek</strong>. Az eredmény fokozatosan, természetes módon jelentkezik – a környezeted észre sem veszi, csak azt, hogy egyre ragyogóbb a bőröd.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 4: Gyors és kényelmes - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Gyors kezelés, kontrollált regeneráció
          </h2>
          <p class="text-gray-700 mb-6">
            Egy kezelés általában <strong>15–30 percet vesz igénybe</strong>, azonban a lézeres beavatkozást követően a bőrnek időre van szüksége a regenerálódáshoz. A kezelt területen ideiglenes pörk alakulhat ki, amely egyénfüggően általában <strong>7–10 nap alatt</strong> magától leesik.
          </p>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <Image
          src={pigmentfoltArckezeles}
          alt="Gyors pigmentfolt kezelés"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
          format="webp"
          quality={80}
          loading="lazy"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 5: Tartós eredmény - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <Image
          src={hydrabeautyArckezeles}
          alt="Tartós pigmentfolt eltávolítás"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
          format="webp"
          quality={80}
          loading="lazy"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Tartós eredmény, ha vigyázol a bőrödre
          </h2>
          <p class="text-gray-700 mb-4">
            A sikeresen kezelt pigmentfoltok <strong>nem térnek vissza</strong>, azonban az új pigmentáció kialakulása nagyban függ a bőr további ápolásától és a fényvédelemtől. A lézeres kezelés után különösen fontos a következetes <strong>50 SPF fényvédelem</strong>, valamint a megfelelő bőrápolás.
          </p>
          <p class="text-gray-700 mb-6">
            A regenerációs időszakban és azt követően is <strong>személyre szabott otthoni ápolási tanácsokkal</strong> látunk el, hogy a bőröd egészségesen gyógyuljon, és az elért eredmény hosszú távon is megmaradjon. A tudatos bőrápolás és a rendszeres fényvédelem kulcsszerepet játszik abban, hogy a bőröd egyenletesebb, tisztább és ragyogóbb maradjon.
          </p>
          <div class="text-center">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Kérj Ingyenes konzultációt
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing Section -->
  <section class="py-16 bg-gradient-to-b from-[#f9f5f3] to-white">
    <div class="max-w-[700px] mx-auto px-4">
      <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-4 text-center uppercase">
        Pigmentfolt Eltávolítás Árak
      </h2>
      <p class="text-center text-gray-600 mb-8 max-w-2xl mx-auto">
        A pigmentfolt kezelések kizárólag a kezelt foltok számára vonatkoznak, nem teljes arckezelést jelentenek. Az ár a kezelt pigmentfoltok számától függ.
      </p>

      <h3 class="font-heading text-xl text-gray-900 mb-6 uppercase text-center">Árak alkalmanként</h3>

      <div class="space-y-3 mb-8">
        {treatments.map((item) => (
          <div class="bg-white rounded-lg p-4 shadow-md border-l-4 border-[#c53f75] hover:shadow-lg transition-shadow">
            <div class="flex justify-between items-center">
              <div>
                <span class="text-gray-800 font-medium block">{item.area}</span>
                {item.sessions && <span class="text-gray-500 text-sm">{item.sessions}</span>}
              </div>
              <span class="text-[#c53f75] font-bold text-lg whitespace-nowrap">{item.price}</span>
            </div>
          </div>
        ))}
      </div>

      <div class="bg-[#f0ebe8] rounded-lg p-5 mb-8">
        <p class="text-gray-700 mb-3">
          <strong>Általánosságban elmondható</strong>, hogy a kívánt eredmény eléréséhez legtöbbször <strong>1 kezelés elegendő</strong>.
        </p>
        <p class="text-gray-700 mb-3">
          Amennyiben a pigmentáció jellege miatt ismétlő kezelés válik szükségessé, annak díja az <strong>aktuális kezelés árának 50%-a</strong>.
        </p>
        <p class="text-gray-600 text-sm">
          A pontos kezelési tervet és az árakat ingyenes konzultáció során határozzuk meg, a pigmentfoltok típusának és mélységének figyelembevételével.
        </p>
      </div>

      <div class="text-center">
        <a
          href="/ingyenes-konzultacio"
          class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
        >
          Ingyenes konzultációt kérek
        </a>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works-section relative overflow-hidden">
    <!-- Mobile: Image above everything like benefit sections -->
    <div class="lg:hidden">
      <Image
        src={pigmentfoltLezer}
        alt="Pigmentfolt kezelés folyamata"
        class="w-full h-64 object-cover object-[center_20%]"
        format="webp"
        quality={80}
        loading="lazy"
      />
    </div>

    <!-- Background image for desktop -->
    <div class="hidden lg:block absolute inset-0">
      <Image
        src={pigmentfoltLezer}
        alt=""
        class="w-full h-full object-cover object-right"
        format="webp"
        quality={80}
        loading="lazy"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-[#e8e4e1] via-[#e8e4e1]/95 to-transparent"></div>
    </div>

    <!-- Mobile background for content area -->
    <div class="lg:hidden absolute inset-0 top-64 bg-[#e8e4e1]"></div>

    <div class="relative z-10 py-12 lg:py-16">
      <div class="max-w-[1200px] mx-auto px-4">
        <h2 class="font-heading text-3xl lg:text-4xl text-[#1e3a5f] mb-10 text-center uppercase">
          Hogyan működik?
        </h2>

        <div class="flex flex-col lg:flex-row gap-8">
          <!-- Cards - Swipeable on mobile -->
          <div class="lg:w-[60%]">
            <!-- Desktop: 2x2 grid -->
            <div class="hidden md:grid md:grid-cols-2 gap-4 md:gap-5">
              {howItWorks.map((step) => (
                <div class="bg-white rounded-lg shadow-md p-5 md:p-6">
                  <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                  <h3 class="font-heading text-base md:text-lg text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                  <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                </div>
              ))}
            </div>

            <!-- Mobile: Horizontal swipeable cards -->
            <div class="md:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
              <div class="flex gap-4 pb-4" style="width: max-content;">
                {howItWorks.map((step) => (
                  <div class="bg-white rounded-lg shadow-md p-5 flex-shrink-0" style="width: 280px;">
                    <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                    <h3 class="font-heading text-base text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <!-- Image placeholder for desktop - takes remaining space -->
          <div class="hidden lg:block lg:w-[40%]">
            <!-- Space for background image to show through -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Consultation Section -->
  <section class="py-12 bg-[#c53f75]">
    <div class="container mx-auto px-4">
      <div class="bg-white overflow-hidden max-w-[768px] mx-auto">
        <div class="flex flex-col lg:flex-row">
          <!-- Image Column -->
          <div class="lg:w-1/2 relative">
            <Image
              src={konyaFanniSzepsegszalon}
              alt="Kónya Fanni konzultáció"
              class="w-full h-full object-cover object-top"
              style="min-height: 350px;"
              format="webp"
              quality={80}
              loading="lazy"
            />
            <div class="absolute bottom-6 left-0 right-0 text-center">
              <p class="font-semibold text-gray-900 bg-white/90 inline-block px-4 py-2 leading-tight">
                Kónya Fanni<br />
                <span class="text-sm text-gray-500 font-normal">ügyvezető</span>
              </p>
            </div>
          </div>

          <!-- Content Column -->
          <div class="lg:w-1/2 p-6 lg:p-8 flex flex-col justify-center">
            <h2 class="font-heading text-xl lg:text-2xl text-gray-900 mb-4 uppercase leading-tight font-bold text-center">
              Igényeld az ingyenes<br />konzultációdat!
            </h2>

            <p class="text-gray-700 mb-2 text-sm">
              <span class="font-semibold">Vizsgáljuk meg együtt a pigmentfoltjaidat!</span>
            </p>
            <p class="text-gray-600 mb-3 text-sm">
              Egy kb. 15 perc hosszú INGYENES alkalom során megbeszéljük, hogy
            </p>

            <ul class="text-gray-600 mb-4 space-y-1 list-disc pl-5 text-sm">
              <li>milyen típusú pigmentfoltokról van szó</li>
              <li>hány kezelés szükséges a kívánt eredményhez</li>
              <li>mire számíthatsz a kezelés során és után</li>
              <li>hogyan őrizheted meg az eredményt hosszú távon</li>
            </ul>

            <div class="text-center">
              <p class="text-gray-600 mb-1 text-sm">
                Kérd az ingyenes konzultációt telefonon az alábbi számon
              </p>
              <a
                href="tel:+3613009414"
                class="text-xl text-[#c53f75] font-bold hover:underline block mb-1"
              >
                +36 1 300 9414
              </a>
              <p class="text-gray-500 mb-3 text-sm">vagy</p>
              <a
                href="/ingyenes-konzultacio"
                class="inline-block px-6 py-2 bg-[#c53f75] text-white font-semibold uppercase text-xs tracking-wide hover:bg-[#a33460] transition-colors rounded-full"
              >
                Kérj Ingyenes konzultációt
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section (Notino Reviews) -->
  <section class="py-16 bg-[#f8f8f8]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Vendégeink mondták
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch">
        {testimonials.map((testimonial) => (
          <div class="bg-white p-6 rounded-lg flex flex-col border border-[#d6d6d6] shadow-[12px_12px_5px_5px_#e6e6e6]">
            <div class="flex gap-0.5 mb-4">
              {[1, 2, 3, 4, 5].map(() => (
                <svg class="w-5 h-5 text-orange-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>
            <p class="text-gray-700 mb-4 leading-relaxed text-sm flex-1">
              {testimonial.text}
            </p>
            <div class="flex items-center gap-3 pt-4 border-t border-gray-200 mt-auto">
              <p class="font-semibold text-gray-900 text-sm flex-1">{testimonial.author}</p>
              <Image
                src={googleLogo}
                alt="Google"
                class="w-7 h-7 object-contain flex-shrink-0"
                width={28}
                height={28}
                format="webp"
                quality={80}
                loading="lazy"
              />
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Partners Section -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-2xl text-gray-900 mb-8 text-center uppercase">
        Partnereink
      </h2>
      <div class="flex flex-wrap justify-center items-center gap-8 lg:gap-12">
        <div class="flex flex-col items-center">
          <Image src={notinoLogo} alt="Notino Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" format="webp" quality={80} loading="lazy" />
        </div>
        <div class="flex flex-col items-center">
          <Image src={skinlabLogo} alt="Skinlab Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" format="webp" quality={80} loading="lazy" />
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Beautyflow Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Miért a Beautyflow pigmentfolt kezelést válaszd?
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        Több mint egy évtizedes tapasztalattal és orvosi háttérrel rendelkező technológiával dolgozunk.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Orvosi technológia -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={mestersegesIntelligenciaGep}
              alt="Nd:YAG lézeres orvosi technológia"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Orvosi háttérrel</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              EU-minősített, orvostechnikai besorolású Nd:YAG lézer készülékkel dolgozunk, amely biztonságos és klinikailag bizonyított hatékonyságú.
            </p>
          </div>
        </div>

        <!-- Tapasztalt szakemberek -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={konyaFanniSzepsegszalonja}
              alt="Tapasztalt pigmentfolt kezelő szakemberek"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Tapasztalt szakemberek</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Képzett, tapasztalt kozmetikusaink pontosan tudják, hogyan kell kezelni a különböző pigmentfolt típusokat a legjobb eredményért.
            </p>
          </div>
        </div>

        <!-- Személyre szabott -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={testmeretImg}
              alt="Személyre szabott pigmentfolt kezelés"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Személyre szabott kezelés</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              A bőrtípusodat és a foltjaid jellegét figyelembe véve állítjuk be a kezelési paramétereket az optimális eredményért.
            </p>
          </div>
        </div>

        <!-- Biztonságos -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={higieniaImg}
              alt="Biztonságos pigmentfolt kezelés"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">100% biztonságos</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              A kezelés nem invazív, nincs sebzés, nincs hegképződés. A bőr integritása megmarad, csak a pigment bomlik le.
            </p>
          </div>
        </div>

        <!-- Látványos eredmény -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={pigmentfoltKezeles}
              alt="Látványos pigmentfolt eltávolítás eredmény"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Bizonyított hatékonyság</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Vendégeink többségénél már 1 kezelés elegendő a kívánt eredmény eléréséhez. Az eredmény hosszú távon is megmarad.
            </p>
          </div>
        </div>

        <!-- Heti 7 napos nyitvatartás -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <Image
              src={nyitvaImg}
              alt="Heti 7 napos nyitvatartás"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
              format="webp"
              quality={80}
              loading="lazy"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Rugalmas időpontok</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Heti 7 napos nyitvatartás – hétvégén és munkaidő után is tudsz időpontot foglalni pigmentfolt kezelésre.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-gradient-to-b from-[#f0ebe8] to-[#e8e0dc]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Gyakran Ismételt Kérdések
      </h2>

      <div class="grid md:grid-cols-2 gap-4">
        {faqs.map((faq) => (
          <div class="faq-item bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all duration-500 hover:-translate-y-1 hover:shadow-xl">
            <button
              class="faq-question w-full text-left px-5 py-4 flex items-start justify-between gap-3 cursor-pointer transition-colors duration-300"
              aria-expanded="false"
            >
              <span class="faq-question-text font-semibold text-gray-900 pr-2 text-base transition-colors duration-300">{faq.question}</span>
              <span class="faq-icon flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center transition-all duration-500 bg-[#eef2ff]">
                <svg class="faq-icon-svg w-4 h-4 transition-transform duration-500 text-[#6366f1]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </span>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-5 pb-5 text-gray-600 leading-relaxed text-sm">
                <p>{faq.answer}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#6366f1] to-[#4f46e5]">
    <div class="max-w-[800px] mx-auto px-4 text-center">
      <h2 class="font-heading text-3xl lg:text-4xl text-white mb-4 uppercase">
        Készen állsz az egyenletes bőrre?
      </h2>
      <p class="text-white/90 mb-8 text-lg">
        Foglalj időpontot ingyenes konzultációra és kezdd el a változást még ma!
      </p>
      <a
        href="/ingyenes-konzultacio"
        class="inline-block px-10 py-4 bg-white text-[#6366f1] font-bold uppercase text-sm tracking-wide rounded-full hover:bg-gray-100 transition-all duration-300 hover:scale-105 shadow-lg"
      >
        Ingyenes konzultációt kérek
      </a>
    </div>
  </section>

  <!-- Locations Section -->
  <LocationsSection />
</Layout>

<script>
  function initRatingAnimation() {
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const ratingElements = document.querySelectorAll('.rating-number');

    if (prefersReducedMotion) {
      ratingElements.forEach(el => {
        el.textContent = el.getAttribute('data-target') || '5.0';
      });
      return;
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const el = entry.target as HTMLElement;
          const target = parseFloat(el.getAttribute('data-target') || '5.0');
          animateRating(el, target);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    ratingElements.forEach(el => observer.observe(el));
  }

  function animateRating(element: HTMLElement, target: number) {
    const duration = 1500;
    const start = 1;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOut = 1 - Math.pow(1 - progress, 3);
      const current = start + (target - start) * easeOut;
      element.textContent = current.toFixed(1);
      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  function initFAQAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');

      question?.addEventListener('click', () => {
        const isActive = item.classList.contains('active');

        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.classList.remove('active');
            otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
          }
        });

        item.classList.toggle('active');
        question.setAttribute('aria-expanded', (!isActive).toString());
      });
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
  document.addEventListener('astro:page-load', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
</script>

<style>
  .stat-item {
    opacity: 1;
  }

  /* Hide scrollbar for horizontal swipe */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .faq-answer {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s 0.4s, opacity 0.3s ease;
  }

  .faq-item.active .faq-answer {
    grid-template-rows: 1fr;
  }

  .faq-item.active .faq-answer-inner {
    visibility: visible;
    opacity: 1;
    transition: visibility 0s, opacity 0.3s ease 0.1s;
  }

  .faq-item.active {
    border-color: #6366f1;
    box-shadow: 0 10px 40px rgba(99, 102, 241, 0.15);
    transform: translateY(-2px);
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
    background-color: #6366f1 !important;
  }

  .faq-item.active .faq-icon-svg {
    color: white !important;
  }

  .faq-item.active .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-icon {
    background-color: #eef2ff !important;
  }
</style>
