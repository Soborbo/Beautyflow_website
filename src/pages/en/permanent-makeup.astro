---
export const prerender = true;

import Layout from '../../layouts/Layout.astro';
import LocationsSection from '../../components/LocationsSection.astro';
import { Image } from 'astro:assets';
import ContentImage from '../../components/images/ContentImage.astro';
import CardImage from '../../components/images/CardImage.astro';

// Image imports
import heroImage from '../../assets/images/sminktetovalas-mb-2.jpg';
import notinoIcon from '../../assets/images/notino-ikon.png';
import googleLogo from '../../assets/images/google-logo.jpg';
import fanniKonzultacio from '../../assets/images/konya-fanni-konzultacio.webp';
import sminktetovalasBeautyflow from '../../assets/images/sminktetovalas-budapest-beautyflow.jpg';
import sminktetovalasImage from '../../assets/images/sminktetovalas.webp';
import sminktetovalasBemeres from '../../assets/images/sminktetovalas-bemeres.webp';
import sminktetovalasBg from '../../assets/images/sminktetovalas-bg.jpg';
import szemhejTetovalas from '../../assets/images/szemhej-tetovalas-smink.jpg';
import fanniSzalon from '../../assets/images/konya-fanni-szepsegszalonja.jpg';
import professzionalisGepek from '../../assets/images/testmeret.jpg';
import szegyenlosVendeg from '../../assets/images/szegyenlos.jpg';
import higienia from '../../assets/images/higienia.jpg';
import testmeret from '../../assets/images/testmeret.jpg';
import nyitva from '../../assets/images/nyitva.jpg';
import notinoLogo from '../../assets/images/logok/notino-logo-sm.jpg';
import skinlabLogo from '../../assets/images/logok/skinlab.webp';

// Treatment type images
import szemoldokImage from '../../assets/images/szemoldok-sminktetovalas.jpg';
import szemhejSminkImage from '../../assets/images/szemhej-sminktetovalas-budapest.jpg';
import ajakImage from '../../assets/images/ajak-sminktetovalas.jpg';
import sminktetovalasMb from '../../assets/images/sminktetovalas-mb.jpg';

import type { ImageMetadata } from 'astro';

const notinoUrlBuda = "https://www.notino.hu/szalonok/beautyflow?source_caller=ui&shortlink=lbbsjxf8&c=salon_detail_redirect&pid=notino_partner&deep_link_value=https%3A%2F%2Fnotino.hu%2Fszalonok%2Fbeautyflow&af_xp=custom";
const notinoUrlPest = "https://www.notino.hu/szalonok/beautyflow-pest?source_caller=ui&shortlink=lbbsjxf8&c=salon_detail_redirect&pid=notino_partner&deep_link_value=https%3A%2F%2Fnotino.hu%2Fszalonok%2Fbeautyflow-pest&af_xp=custom";

const locations = [
  {
    name: 'Beautyflow Buda',
    address: '1116 Budapest, Vegyesz u. 1.',
    image: '/images/Beautyflow-buda.jpg',
    bookingUrl: notinoUrlBuda,
    hours: [
      { days: 'Monday - Friday', time: '08:00 - 20:00' },
      { days: 'Saturday', time: '10:00 - 20:00' },
      { days: 'Sunday', time: '10:00 - 20:00' },
    ]
  },
  {
    name: 'Beautyflow Pest',
    address: '1135 Budapest, Reitter Ferenc u. 90.',
    image: '/images/Beautyflow-Pest.jpg',
    bookingUrl: notinoUrlPest,
    hours: [
      { days: 'Monday - Friday', time: '08:00 - 20:00' },
      { days: 'Saturday', time: '10:00 - 20:00' },
      { days: 'Sunday', time: '10:00 - 20:00' },
    ]
  }
];

const stats = [
  { value: '10+ years', label: 'experience' },
  { value: '5,000+', label: 'permanent makeup treatments' },
  { value: '100%', label: 'satisfied clients' },
  { value: '1-3 years', label: 'lasting results' },
];

const testimonials = [
  {
    text: 'I had eyebrow tattoo done by her, and I am very satisfied. It has lasted for years and many people compliment how beautiful and natural it looks!',
    author: 'Brigitta',
    image: '/images/laszlo-eszter.png'
  },
  {
    text: 'Fanni is the most precise and friendliest professional. I had laser hair removal and eyebrow tattoo done by her! I highly recommend her to everyone!',
    author: 'Rita',
    image: '/images/kitti.png'
  },
  {
    text: 'I have been going to her since 2020, and I hope to continue for a long time. She is an excellent permanent makeup specialist. The salon is beautiful, clean and organized.',
    author: 'Kovacs Bernadett',
    image: '/images/dora.png'
  }
];

const treatmentTypes: Array<{
  title: string;
  description: string;
  image: ImageMetadata;
  price: string;
}> = [
  {
    title: 'Eyebrow Tattoo (powder)',
    description: 'Natural, powder-effect eyebrow tattoo that provides a soft, makeup-free lasting appearance.',
    image: szemoldokImage,
    price: '75,000 HUF'
  },
  {
    title: 'Eyebrow Tattoo (ombre)',
    description: 'Ombre technique eyebrow that gradually fades from root to tip for a natural effect.',
    image: szemoldokImage,
    price: '75,000 HUF'
  },
  {
    title: 'Eyebrow Tattoo Correction',
    description: 'Professional correction and repair of poorly done eyebrow tattoos from elsewhere.',
    image: szemoldokImage,
    price: '80,000 HUF'
  },
  {
    title: 'Eyeliner Tattoo (lash enhancement)',
    description: 'Creates the illusion of fuller, more expressive lashes that highlight your eyes even without makeup.',
    image: szemhejSminkImage,
    price: '35,000 HUF'
  },
  {
    title: 'Half Lip Tattoo',
    description: 'Enhancement of the upper or lower lip contour with natural, lasting results.',
    image: ajakImage,
    price: '55,000 HUF'
  },
  {
    title: 'Full Lip Tattoo',
    description: 'Full lip contour tattoo that emphasizes and perfects the shape of your lips.',
    image: sminktetovalasMb,
    price: '65,000 HUF'
  }
];

const howItWorks = [
  {
    number: '1.',
    title: 'Free consultation',
    description: 'First, we discuss what you want and together we design the most flattering shape and color for you. Every permanent makeup starts with thorough pre-drawing, so you can see exactly how it will look on you.'
  },
  {
    number: '2.',
    title: 'Numbing and tattooing',
    description: 'The treatment is completely safe and performed under local anesthesia, so discomfort is minimal. Once you are satisfied with the pre-drawing, we precisely apply the pigment to your skin with our professional equipment.'
  },
  {
    number: '3.',
    title: 'Healing phase',
    description: 'The fresh tattoo will be more intense in color for a few days, then appear slightly faded after the scab falls off. This is completely normal, a natural process. Eyebrows take about 4 weeks, lips about 2 months to settle into their final color.'
  },
  {
    number: '4.',
    title: 'Results lasting up to 3 years',
    description: 'Permanent makeup can last up to 1.5-3 years and fades gradually. If you wish, we offer discounted touch-ups within 12 months to keep it perfect.'
  }
];

const faqs = [
  { question: 'How painful is permanent makeup?', answer: 'We use numbing cream, making the process virtually painless. Most of our clients only feel light pressure.' },
  { question: 'How long does healing take?', answer: 'Complete healing takes about 4-6 weeks. You may experience slight swelling and crusting in the first few days.' },
  { question: 'How long does permanent makeup last?', answer: 'Depending on skin type and lifestyle, it lasts 1-3 years. Annual touch-ups are recommended.' },
  { question: 'Can there be an allergic reaction?', answer: 'Very rare, but possible. That is why we perform a sensitivity test at the first consultation.' },
  { question: 'Can I use sauna or swim afterwards?', answer: 'Avoid saunas, pools and intense sun exposure for the first 2 weeks. After that, there are no restrictions.' },
  { question: 'What if I do not like the result?', answer: 'That is why we do detailed pre-drawing. If you are still not satisfied, we can refine it at the correction session.' },
  { question: 'Can permanent makeup be removed?', answer: 'Yes, it can be removed with laser, but it is a time-consuming and costly process. That is why careful planning is important.' },
  { question: 'Can I get permanent makeup during pregnancy?', answer: 'Permanent makeup is not recommended during pregnancy and breastfeeding.' },
  { question: 'How many treatments are needed?', answer: 'Generally, 1 treatment + 1 correction is sufficient for perfect results.' },
  { question: 'How should I prepare for the treatment?', answer: 'Avoid alcohol 24 hours before, eyebrow waxing/plucking for 2 weeks, and blood thinners.' },
];
---

<Layout
  lang="en"
  title="Permanent Makeup Budapest - Eyebrow, Lip, Eyeliner Tattoo | Beautyflow"
  description="Professional permanent makeup in Budapest. Eyebrow, eyeliner and lip tattoo with natural results. 10+ years experience. Request a free consultation!"
>
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  })} />

  <!-- Breadcrumb Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "Home",
        "item": "https://beautyflow.pro/en/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "Permanent Makeup",
        "item": "https://beautyflow.pro/en/permanent-makeup"
      }
    ]
  })} />

  <!-- Service Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Service",
    "serviceType": "Permanent Makeup",
    "name": "Permanent Makeup Budapest",
    "description": "Professional permanent makeup in Budapest. Eyebrow, eyeliner and lip tattoo with natural results.",
    "provider": {
      "@type": "LocalBusiness",
      "name": "Beautyflow Beauty Salon",
      "image": "https://beautyflow.pro/images/beautyflow-logo.png",
      "address": [
        {
          "@type": "PostalAddress",
          "streetAddress": "Vegyesz u. 1.",
          "addressLocality": "Budapest",
          "postalCode": "1116",
          "addressCountry": "HU"
        },
        {
          "@type": "PostalAddress",
          "streetAddress": "Reitter Ferenc u. 90.",
          "addressLocality": "Budapest",
          "postalCode": "1135",
          "addressCountry": "HU"
        }
      ],
      "telephone": "+36 1 300 9414",
      "priceRange": "$$"
    },
    "areaServed": {
      "@type": "City",
      "name": "Budapest"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Permanent Makeup Services",
      "itemListElement": treatmentTypes.map(item => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": item.title
        },
        "price": item.price.replace(/[^0-9]/g, ''),
        "priceCurrency": "HUF"
      }))
    }
  })} />

  <!-- Hero Section -->
  <section class="hero-section relative lg:h-[calc(100dvh-60px)] flex flex-col">
    <div class="flex flex-col lg:flex-row flex-1 min-h-0">
      <!-- Left column: Text content -->
      <div class="w-full lg:w-1/2 flex flex-col justify-center py-6 lg:py-8 order-2 lg:order-1 bg-[#fff9f7]">
        <div class="w-full px-[6%] text-center">
          <!-- Notino Award Badge -->
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full blur-sm opacity-50"></div>
              <div class="relative bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 p-1 rounded-full">
                <div class="bg-white rounded-full p-1">
                  <Image src={notinoIcon} alt="Notino" class="w-8 h-8" width={32} height={32} quality={60} loading="eager" />
                </div>
              </div>
            </div>
            <div class="text-left">
              <div class="flex items-center gap-1">
                <svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                <span class="text-xs font-semibold text-gray-700 uppercase tracking-wide">Award-winning salon</span>
              </div>
              <span class="text-sm font-bold text-[#c53f75]">Notino "Salon of the Month"</span>
            </div>
          </div>

          <h1 class="text-[#c53f75] font-semibold uppercase tracking-wider text-sm lg:text-base mb-2">
            Painless Permanent Makeup Budapest
          </h1>
          <h2 class="font-heading text-[1.75rem] lg:text-[2.25rem] text-gray-900 mb-3 uppercase leading-tight">
            Wake up with perfect makeup that won't smudge throughout the day
          </h2>
          <p class="text-gray-600 mb-6 text-base lg:text-lg max-w-lg mx-auto">
            Beautyflow permanent makeup can stay perfect for up to 3 years after a single painless session.
          </p>

          <!-- CTA row -->
          <div class="flex flex-col items-center justify-center gap-2">
            <a
              href="/en/free-consultation"
              class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg text-sm lg:text-base"
            >
              Request Free Consultation
            </a>
            <a
              href="tel:+3613009414"
              class="inline-flex items-center gap-2 text-base lg:text-lg text-[#c53f75] font-bold hover:text-[#a33460] transition-all duration-300"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              +36 1 300 9414
            </a>
          </div>
        </div>
      </div>

      <!-- Right column: Hero image -->
      <div class="w-full lg:w-1/2 order-1 lg:order-2 relative overflow-hidden min-h-[300px] lg:min-h-0">
        <ContentImage
          src={heroImage}
          alt="Permanent Makeup Budapest"
          class="w-full h-full object-cover"
          priority={true}
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent lg:hidden"></div>

        <!-- Google Rating Badge -->
        <div class="absolute bottom-3 left-3 lg:bottom-5 lg:left-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl p-2 lg:p-3">
          <div class="flex items-center gap-2">
            <Image src={googleLogo} alt="Google" class="w-7 h-7 lg:w-9 lg:h-9 rounded-full" width={36} height={36} quality={60} loading="eager" />
            <div>
              <div class="flex items-center gap-1">
                <span class="text-base lg:text-xl font-bold text-gray-900 rating-number" data-target="5.0">0</span>
                <div class="flex">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-2.5 h-2.5 lg:w-3.5 lg:h-3.5 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
              <p class="text-[9px] lg:text-[11px] text-gray-600">Based on Google reviews</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="w-full bg-gradient-to-r from-[#c53f75] to-[#a33460] py-4 lg:h-[80px] flex-shrink-0 flex items-center justify-center">
      <div class="max-w-[1000px] mx-auto px-4 w-full">
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-8 h-full items-center">
          {stats.map((stat, index) => (
            <div class="text-center stat-item py-2 lg:py-0" style={`animation-delay: ${index * 100}ms`}>
              <p class="text-[24px] lg:text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">
                {stat.value}
              </p>
              <p class="text-white/80 text-[12px] lg:text-[16px] leading-[0.9]">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Intro Section with Fanni -->
  <section class="section-animate py-12 lg:py-16 bg-gradient-to-br from-[#fdf8f6] via-[#fff] to-[#f8f4f9]">
    <div class="max-w-[1100px] mx-auto px-4">
      <!-- White card containing both image and text -->
      <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
        <div class="flex flex-col lg:flex-row">
          <!-- Image - full width on mobile, stretch to fill height on desktop -->
          <div class="w-full lg:w-2/5 flex-shrink-0 relative">
            <ContentImage
              src={fanniKonzultacio}
              alt="Fanni Konya permanent makeup expert"
              class="w-full h-auto lg:absolute lg:inset-0 lg:h-full object-cover object-top"
            />
            <!-- Mobile signature - right below image -->
            <div class="lg:hidden flex items-center gap-3 p-4 bg-gray-50 border-t border-gray-100">
              <div class="w-10 h-10 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-5 h-5 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div class="leading-tight">
                <p class="text-[#c53f75] font-semibold text-sm mb-0">Fanni Konya</p>
                <p class="text-gray-500 text-xs mb-0">owner</p>
              </div>
            </div>
          </div>
          <!-- Text content -->
          <div class="w-full lg:w-3/5 p-6 lg:p-8 flex flex-col justify-center">
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              If you knew how many botched permanent makeups I have seen throughout my career! Unfortunately, due to poor quality, embarrassingly bad work, many people do not even consider permanent makeup - even though it is a very effective and simple way to look put together right from the moment you wake up.
            </p>
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              At Beautyflow beauty salon, we work exclusively with experienced staff and the latest equipment, and every permanent makeup that leaves our hands is <strong>customized and contains high-quality, medical-grade, tested pigments</strong>.
            </p>
            <p class="text-gray-700 mb-6 text-base leading-relaxed">
              <strong>You receive the attention and quality that we ourselves expect.</strong>
            </p>
            <!-- Desktop signature -->
            <div class="hidden lg:flex items-center gap-3 pt-4 border-t border-gray-200">
              <div class="w-12 h-12 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-6 h-6 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div class="leading-tight">
                <p class="text-[#c53f75] font-semibold mb-0">Fanni Konya</p>
                <p class="text-gray-500 text-sm mb-0">owner</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Treatment Types Section -->
  <section class="py-16 bg-[#fdf8f6]">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Permanent Makeup Types
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        Choose which area you would like to perfect. Every treatment includes a free touch-up.
      </p>

      <div class="grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6">
        {treatmentTypes.map((treatment) => (
          <div
            class="bg-white rounded-lg overflow-hidden shadow-[0_4px_15px_rgba(0,0,0,0.08)] hover:shadow-[0_10px_40px_rgba(0,0,0,0.15)] hover:-translate-y-2 transition-all duration-300 border-t-4 flex flex-col"
            style="border-top-color: #5851e4; background: linear-gradient(to bottom, #eef2ff, white 30%);"
          >
            <div class="relative overflow-hidden">
              <CardImage
                src={treatment.image}
                alt={treatment.title}
                class="w-full h-40 md:h-48 object-cover transition-transform duration-300 hover:scale-105"
              />
              <div class="absolute top-0 left-0 right-0 h-1 bg-[#5851e4]"></div>
            </div>
            <div class="p-3 md:p-5 text-center md:text-left flex flex-col flex-1">
              <h3 class="font-heading text-base md:text-lg text-gray-900 mb-1 md:mb-2">{treatment.title}</h3>
              <p class="text-gray-600 text-xs md:text-sm mb-2 md:mb-4 hidden md:block flex-1">{treatment.description}</p>
              <p class="text-[#5851e4] font-bold text-base md:text-lg mt-auto">{treatment.price}</p>
            </div>
          </div>
        ))}
      </div>

      <!-- Correction information -->
      <div class="mt-8 bg-gradient-to-r from-[#6366f1] to-[#4f46e5] rounded-xl p-6 text-center">
        <p class="text-white font-bold text-lg mb-2">
          Prices include the correction (within 60 days)!
        </p>
        <p class="text-white/90">
          Additional corrections: <span class="font-bold whitespace-nowrap">15,000 HUF</span> / session
        </p>
      </div>

      <div class="mt-8 text-center">
        <a
          href="/en/free-consultation"
          class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
        >
          Request Free Consultation
        </a>
      </div>
    </div>
  </section>

  <!-- Benefits Section 1: Pain-free - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <ContentImage
          src={sminktetovalasBeautyflow}
          alt="Painless permanent makeup"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Pain and trauma free
          </h2>
          <p class="text-gray-700 mb-6">
            Thanks to our years of experience and modern technology, permanent makeup performed at our salon is painless. We work so gently that the skin only suffers superficial irritation, so <strong>you won't need tedious and complicated aftercare</strong>.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 2: Only the best pigments - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            We only use the best pigments
          </h2>
          <p class="text-gray-700 mb-6">
            One of the main secrets of permanent makeup is choosing the right pigment. Not only must the quality of the coloring agent be perfect, but we must <strong>expertly select the most suitable, most natural pigments for your skin and hair type</strong>.
          </p>
          <div class="text-center">
            <a
              href="/en/free-consultation"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Request Free Consultation
            </a>
          </div>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <ContentImage
          src={sminktetovalasImage}
          alt="Premium quality pigments"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 3: Custom design instead of templates - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <ContentImage
          src={sminktetovalasBemeres}
          alt="Custom designed permanent makeup"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Custom design instead of templates
          </h2>
          <p class="text-gray-700 mb-6">
            Many places always do permanent makeup the same way - at Beautyflow, we always <strong>design with individual measurements, specifically tailored to your face and personality</strong> instead of general cliches and templates.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 4: One treatment - years of effect - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            One treatment - years of results
          </h2>
          <p class="text-gray-700 mb-6">
            Imagine how liberating it would be if you didn't have to constantly redo your makeup every day! The results of a single treatment <strong>can last up to 1.5-3 years</strong>, which saves you not only time and energy but also money in the long run.
          </p>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <ContentImage
          src={szemhejTetovalas}
          alt="Long-lasting permanent makeup results"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 5: Be confident - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <ContentImage
          src={sminktetovalasBeautyflow}
          alt="Confident makeup in every situation"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Be confident in every situation
          </h2>
          <p class="text-gray-700 mb-6">
            With permanent makeup, your makeup stays perfect <strong>during workouts, after a long work day, or in the sweltering summer heat</strong>. You don't have to worry about smudging, sweating, or fading.
          </p>
          <div class="text-center">
            <a
              href="/en/free-consultation"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Request Free Consultation
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works-section relative overflow-hidden">
    <!-- Mobile: Image above everything like benefit sections -->
    <div class="lg:hidden">
      <ContentImage
        src={sminktetovalasBg}
        alt="Permanent makeup treatment"
        class="w-full h-64 object-cover object-[center_20%]"
      />
    </div>

    <!-- Background image for desktop -->
    <div class="hidden lg:block absolute inset-0">
      <ContentImage
        src={sminktetovalasBg}
        alt=""
        class="w-full h-full object-cover object-right"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-[#e8e4e1] via-[#e8e4e1]/95 to-transparent"></div>
    </div>

    <!-- Mobile background for content area -->
    <div class="lg:hidden absolute inset-0 top-64 bg-[#e8e4e1]"></div>

    <div class="relative z-10 py-12 lg:py-16">
      <div class="max-w-[1200px] mx-auto px-4">
        <h2 class="font-heading text-3xl lg:text-4xl text-[#1e3a5f] mb-10 text-center uppercase">
          How does it work?
        </h2>

        <div class="flex flex-col lg:flex-row gap-8">
          <!-- Cards - Swipeable on mobile -->
          <div class="lg:w-[60%]">
            <!-- Desktop: 2x2 grid -->
            <div class="hidden md:grid md:grid-cols-2 gap-4 md:gap-5">
              {howItWorks.map((step) => (
                <div class="bg-white rounded-lg shadow-md p-5 md:p-6">
                  <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                  <h3 class="font-heading text-base md:text-lg text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                  <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                </div>
              ))}
            </div>

            <!-- Mobile: Horizontal swipeable cards -->
            <div class="md:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
              <div class="flex gap-4 pb-4" style="width: max-content;">
                {howItWorks.map((step) => (
                  <div class="bg-white rounded-lg shadow-md p-5 flex-shrink-0" style="width: 280px;">
                    <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                    <h3 class="font-heading text-base text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <!-- Image placeholder for desktop - takes remaining space -->
          <div class="hidden lg:block lg:w-[40%]">
            <!-- Space for background image to show through -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Consultation Section -->
  <section class="py-12 bg-[#c53f75]">
    <div class="container mx-auto px-4">
      <div class="bg-white overflow-hidden max-w-[768px] mx-auto">
        <div class="flex flex-col lg:flex-row">
          <!-- Image Column -->
          <div class="lg:w-1/2 relative">
            <ContentImage
              src={fanniKonzultacio}
              alt="Fanni Konya consultation"
              class="w-full h-full object-cover object-top"
            />
            <div class="absolute bottom-6 left-0 right-0 text-center">
              <p class="font-semibold text-gray-900 bg-white/90 inline-block px-4 py-2 leading-tight">
                Fanni Konya<br />
                <span class="text-sm text-gray-500 font-normal">owner</span>
              </p>
            </div>
          </div>

          <!-- Content Column -->
          <div class="lg:w-1/2 p-6 lg:p-8 flex flex-col justify-center">
            <h2 class="font-heading text-xl lg:text-2xl text-gray-900 mb-4 uppercase leading-tight font-bold text-center">
              Request your free<br />consultation!
            </h2>

            <p class="text-gray-700 mb-2 text-sm">
              <span class="font-semibold">Let's talk before you get permanent makeup!</span>
            </p>
            <p class="text-gray-600 mb-3 text-sm">
              During an approximately 15-minute FREE session, we will discuss:
            </p>

            <ul class="text-gray-600 mb-4 space-y-1 list-disc pl-5 text-sm">
              <li>which permanent makeup type suits you (eyebrow, lip, eyeliner)</li>
              <li>what shape and shade to choose for your face</li>
              <li>if there are any contraindications for the treatment</li>
              <li>what results and healing time to expect</li>
            </ul>

            <div class="text-center">
              <p class="text-gray-600 mb-1 text-sm">
                Request your free consultation by phone at
              </p>
              <a
                href="tel:+3613009414"
                class="text-xl text-[#c53f75] font-bold hover:underline block mb-1"
              >
                +36 1 300 9414
              </a>
              <p class="text-gray-500 mb-3 text-sm">or</p>
              <a
                href="/en/free-consultation"
                class="inline-block px-6 py-2 bg-[#c53f75] text-white font-semibold uppercase text-xs tracking-wide hover:bg-[#a33460] transition-colors rounded-full"
              >
                Request Free Consultation
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section (Notino Reviews) -->
  <section class="py-16 bg-[#f8f8f8]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        What our clients say
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch">
        {testimonials.map((testimonial) => (
          <div class="bg-white p-6 rounded-lg flex flex-col border border-[#d6d6d6] shadow-[12px_12px_5px_5px_#e6e6e6]">
            <div class="flex gap-0.5 mb-4">
              {[1, 2, 3, 4, 5].map(() => (
                <svg class="w-5 h-5 text-orange-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>
            <p class="text-gray-700 mb-4 leading-relaxed text-sm flex-1">
              {testimonial.text}
            </p>
            <div class="flex items-center gap-3 pt-4 border-t border-gray-200 mt-auto">
              <span class="font-semibold text-gray-900 text-sm flex-1 leading-none">{testimonial.author}</span>
              <Image
                src={googleLogo}
                alt="Google"
                class="w-7 h-7 object-contain flex-shrink-0"
                width={28}
                height={28}
                quality={60}
                loading="lazy"
              />
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Partners Section -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-2xl text-gray-900 mb-8 text-center uppercase">
        Our Partners
      </h2>
      <div class="flex flex-wrap justify-center items-center gap-8 lg:gap-12">
        <div class="flex flex-col items-center">
          <Image src={notinoLogo} alt="Notino Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" width={96} height={48} quality={60} loading="lazy" />
        </div>
        <div class="flex flex-col items-center">
          <Image src={skinlabLogo} alt="Skinlab Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" width={96} height={48} quality={60} loading="lazy" />
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Beautyflow Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Why choose Beautyflow permanent makeup?
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        With over a decade of experience and thousands of satisfied clients behind us, we know what you need.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Professional equipment -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={professzionalisGepek}
              alt="Professional permanent makeup equipment"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Professional equipment, precise work</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              We work with the latest generation permanent makeup machines that provide even pigment implantation with minimal skin irritation - every stroke is perfectly precise.
            </p>
          </div>
        </div>

        <!-- First-timers welcome -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={szegyenlosVendeg}
              alt="Comfortable permanent makeup environment"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Nervous about your first time? We'll help!</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Anxious about permanent makeup? Completely understandable! We prepare you with a detailed consultation and pre-drawing so you know exactly what to expect - and we ease the nerves with coffee and conversation.
            </p>
          </div>
        </div>

        <!-- Friendly atmosphere -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={fanniSzalon}
              alt="Beautyflow salon friendly atmosphere"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Friendly, relaxing atmosphere</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Permanent makeup is an intimate experience - so it's important that you feel comfortable. We welcome you with coffee, honest conversation, and full attention, as if you were visiting a friend.
            </p>
          </div>
        </div>

        <!-- Medical-grade cleanliness -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={higienia}
              alt="Sterile permanent makeup environment"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Medical-grade cleanliness</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              For every permanent makeup, we use single-use, sterile needles and EU-tested pigments. The treatment room maintains medical-grade cleanliness - your safety is non-negotiable.
            </p>
          </div>
        </div>

        <!-- All skin types -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={testmeret}
              alt="Customized permanent makeup"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">We adapt to every skin type</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Whether your skin is oily, dry, or sensitive - we individually select the pigments and technique for you so that your permanent makeup looks natural and lasts long.
            </p>
          </div>
        </div>

        <!-- Open 7 days a week -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <CardImage
              src={nyitva}
              alt="Open 7 days a week"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Open 7 days a week</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              We're open on weekends too! We know weekdays are busy - that's why you can book permanent makeup consultations and treatments on Saturday and Sunday as well.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-gradient-to-b from-[#f0ebe8] to-[#e8e0dc]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Frequently Asked Questions
      </h2>

      <div class="grid md:grid-cols-2 gap-4">
        {faqs.map((faq) => (
          <div class="faq-item bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all duration-500 hover:-translate-y-1 hover:shadow-xl">
            <button
              class="faq-question w-full text-left px-5 py-4 flex items-start justify-between gap-3 cursor-pointer transition-colors duration-300"
              aria-expanded="false"
            >
              <span class="faq-question-text font-semibold text-gray-900 pr-2 text-base transition-colors duration-300">{faq.question}</span>
              <span class="faq-icon flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center transition-all duration-500 bg-[#eef2ff]">
                <svg class="faq-icon-svg w-4 h-4 transition-transform duration-500 text-[#6366f1]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </span>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-5 pb-5 text-gray-600 leading-relaxed text-sm">
                <p>{faq.answer}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#c53f75] to-[#a33460]">
    <div class="max-w-[800px] mx-auto px-4 text-center">
      <h2 class="font-heading text-3xl lg:text-4xl text-white mb-4 uppercase">
        Let's Talk
      </h2>
      <p class="text-white/90 mb-8 text-lg">
        Book an appointment for a free consultation and discover your options!
      </p>
      <a
        href="/en/free-consultation"
        class="inline-block px-10 py-4 bg-white text-[#c53f75] font-bold uppercase text-sm tracking-wide rounded-full hover:bg-gray-100 transition-all duration-300 hover:scale-105 shadow-lg"
      >
        Request Free Consultation
      </a>
    </div>
  </section>

  <!-- Locations Section -->
  <LocationsSection lang="en" />
</Layout>

<script>
  function initRatingAnimation() {
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const ratingElements = document.querySelectorAll('.rating-number');

    if (prefersReducedMotion) {
      ratingElements.forEach(el => {
        el.textContent = el.getAttribute('data-target') || '5.0';
      });
      return;
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const el = entry.target as HTMLElement;
          const target = parseFloat(el.getAttribute('data-target') || '5.0');
          animateRating(el, target);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    ratingElements.forEach(el => observer.observe(el));
  }

  function animateRating(element: HTMLElement, target: number) {
    const duration = 1500;
    const start = 1;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOut = 1 - Math.pow(1 - progress, 3);
      const current = start + (target - start) * easeOut;
      element.textContent = current.toFixed(1);
      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  function initFAQAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');

      question?.addEventListener('click', () => {
        const isActive = item.classList.contains('active');

        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.classList.remove('active');
            otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
          }
        });

        item.classList.toggle('active');
        question.setAttribute('aria-expanded', (!isActive).toString());
      });
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
  document.addEventListener('astro:page-load', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
</script>

<style>
  .stat-item {
    opacity: 1;
  }

  /* Hide scrollbar for horizontal swipe */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .faq-answer {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s 0.4s, opacity 0.3s ease;
  }

  .faq-item.active .faq-answer {
    grid-template-rows: 1fr;
  }

  .faq-item.active .faq-answer-inner {
    visibility: visible;
    opacity: 1;
    transition: visibility 0s, opacity 0.3s ease 0.1s;
  }

  .faq-item.active {
    border-color: #6366f1;
    box-shadow: 0 10px 40px rgba(99, 102, 241, 0.15);
    transform: translateY(-2px);
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
    background-color: #6366f1 !important;
  }

  .faq-item.active .faq-icon-svg {
    color: white !important;
  }

  .faq-item.active .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-icon {
    background-color: #eef2ff !important;
  }
</style>
