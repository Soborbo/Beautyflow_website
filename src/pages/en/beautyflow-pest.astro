---
export const prerender = true;

import Layout from '../../layouts/Layout.astro';
import { ContentImage, CardImage, FixedImage } from '../../components/images';

// Image imports
import beautyflowBudaImg from '../../assets/images/Beautyflow-buda.jpg';
import beautyflowPestImg from '../../assets/images/Beautyflow-Pest.jpg';
import notinoIkon from '../../assets/images/notino-ikon.png';
import googleLogo from '../../assets/images/google-logo.jpg';
import lezeresSzortelenites from '../../assets/images/lezeres-szortelenites-beautyflow-bg.jpg';
import hydrabeautyArckezeles from '../../assets/images/hydrabeauty-arckezeles.jpg';
import sminktetovalasBudapest from '../../assets/images/sminktetovalas-budapest-beautyflow.jpg';
import carbonPeelingLezeres from '../../assets/images/carbon-peeling-lezeres.jpg';

// Location data
const location = {
  name: 'Beautyflow Pest',
  fullName: 'Beautyflow Pest Beauty Salon',
  address: {
    street: 'Reitter Ferenc utca 90.',
    postalCode: '1135',
    city: 'Budapest',
    district: 'District XIII (Angyalfold)',
    country: 'Hungary',
    full: '1135 Budapest, Reitter Ferenc utca 90.',
  },
  geo: {
    lat: '47.5287',
    lng: '19.0512',
  },
  phone: '+36 1 300 9414',
  phoneDisplay: '+36 1 300 9414',
  email: 'info@beautyflow.pro',
  website: 'https://beautyflow.pro/en/beautyflow-pest',
  bookingUrl: 'https://www.notino.hu/szalonok/beautyflow-pest?source_caller=ui&shortlink=lbbsjxf8&c=salon_detail_redirect&pid=notino_partner&deep_link_value=https%3A%2F%2Fnotino.hu%2Fszalonok%2Fbeautyflow-pest&af_xp=custom',
  googleMapsUrl: 'https://maps.google.com/?q=Beautyflow+Pest,+1135+Budapest,+Reitter+Ferenc+utca+90.',
  googleMapsEmbed: 'https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2695.1234567890!2d19.0512!3d47.5287!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDfCsDMxJzQzLjAiTiAxOcKwMDMnMDQiRQ!5e0!3m2!1shu!2shu!4v1234567890',
  image: '/images/Beautyflow-Pest.jpg',
  hours: [
    { day: 'Monday', open: '08:00', close: '18:00', dayOfWeek: 'Monday' },
    { day: 'Tuesday', open: '08:00', close: '18:00', dayOfWeek: 'Tuesday' },
    { day: 'Wednesday', open: '08:00', close: '18:00', dayOfWeek: 'Wednesday' },
    { day: 'Thursday', open: '08:00', close: '18:00', dayOfWeek: 'Thursday' },
    { day: 'Friday', open: '08:00', close: '18:00', dayOfWeek: 'Friday' },
    { day: 'Saturday', open: '10:00', close: '20:00', dayOfWeek: 'Saturday' },
    { day: 'Sunday', closed: true, dayOfWeek: 'Sunday' },
  ],
  services: [
    'Diode Laser Hair Removal',
    'HydraBeauty Facial Treatment',
    'Permanent Makeup',
    'Laser Tattoo Removal',
    'Carbon Peeling',
    'Pigmentation Removal',
  ],
  parking: 'Free street parking directly in front of the salon. Duna Plaza parking garage is a 10-minute walk away.',
  publicTransport: '8-10 minute walk from Metro line 3 Dozsa Gyorgy ut or Gyongyosi utca stations. Tram 14 and several bus lines (26, 32) stop nearby.',
  accessibility: 'Wheelchair accessible entrance and restroom.',
};

// Services with unique descriptions for Pest
const services = [
  {
    name: 'Diode Laser Hair Removal',
    description: 'At our Pest salon, we use the same state-of-the-art 808nm diode laser as in Buda. Fast treatment time, minimal discomfort, maximum effectiveness.',
    link: '/en/laser-hair-removal',
    image: lezeresSzortelenites,
  },
  {
    name: 'HydraBeauty Facial Treatment',
    description: 'Comprehensive facial cleansing and skin rejuvenation treatment at our Pest salon. Ideal solution for skin problems caused by urban environment: pollution, enlarged pores, dull skin.',
    link: '/en/hydrabeauty',
    image: hydrabeautyArckezeles,
  },
  {
    name: 'Permanent Makeup',
    description: 'Eyebrow, eyeliner and lip tattooing in District XIII. Artistic precision, individual consultation, natural-looking results.',
    link: '/en/permanent-makeup',
    image: sminktetovalasBudapest,
  },
  {
    name: 'Carbon Peeling',
    description: 'Instant radiance and skin surface renewal with the "Hollywood peeling" treatment. Perfect choice before important events.',
    link: '/en/carbon-peeling',
    image: carbonPeelingLezeres,
  },
];

// Testimonials specific to Pest location
const testimonials = [
  {
    name: 'Viktoria T.',
    rating: 5,
    text: 'The Pest Beautyflow is very convenient for me since it is close to my workplace. The early opening allows me to fit in a treatment before work. Excellent service!',
    service: 'HydraBeauty facial treatment',
  },
  {
    name: 'Reka K.',
    rating: 5,
    text: 'I have been coming here for laser hair removal for 3 years now. The team is professional, the environment is clean and modern. I can only recommend the District XIII salon to everyone!',
    service: 'Laser hair removal',
  },
  {
    name: 'Dora M.',
    rating: 5,
    text: 'The lip tattoo turned out exactly as I dreamed. Very natural, yet striking. We discussed everything at the consultation, and I got exactly what I wanted.',
    service: 'Permanent makeup',
  },
];

// LocalBusiness Schema
const localBusinessSchema = {
  "@context": "https://schema.org",
  "@type": "BeautySalon",
  "@id": "https://beautyflow.pro/en/beautyflow-pest#beautysalon",
  "name": location.fullName,
  "alternateName": "Beautyflow Pest",
  "description": "Premium beauty salon in District XIII, Budapest. Laser hair removal, HydraBeauty facial treatment, permanent makeup and carbon peeling services. Experienced professionals, modern environment.",
  "url": location.website,
  "telephone": location.phone,
  "email": location.email,
  "image": [
    "https://beautyflow.pro/images/Beautyflow-Pest.jpg",
    "https://beautyflow.pro/images/beautyflow-pest-interior.jpg"
  ],
  "logo": "https://beautyflow.pro/images/Beautyflow-logo.png",
  "priceRange": "$$",
  "currenciesAccepted": "HUF",
  "paymentAccepted": "Cash, Credit Card",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": location.address.street,
    "addressLocality": location.address.city,
    "addressRegion": location.address.district,
    "postalCode": location.address.postalCode,
    "addressCountry": "HU"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": location.geo.lat,
    "longitude": location.geo.lng
  },
  "hasMap": location.googleMapsUrl,
  "openingHoursSpecification": location.hours.filter(h => !h.closed).map(h => ({
    "@type": "OpeningHoursSpecification",
    "dayOfWeek": h.dayOfWeek,
    "opens": h.open,
    "closes": h.close
  })),
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5.0",
    "reviewCount": "89",
    "bestRating": "5",
    "worstRating": "1"
  },
  "areaServed": [
    {
      "@type": "City",
      "name": "Budapest"
    },
    {
      "@type": "AdministrativeArea",
      "name": "District XIII"
    },
    {
      "@type": "AdministrativeArea",
      "name": "Angyalfold"
    }
  ],
  "sameAs": [
    "https://www.facebook.com/beautyflowpest",
    "https://www.instagram.com/beautyflow.pro"
  ],
  "makesOffer": location.services.map(service => ({
    "@type": "Offer",
    "itemOffered": {
      "@type": "Service",
      "name": service
    }
  }))
};

// BreadcrumbList Schema
const breadcrumbSchema = {
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://beautyflow.pro/en/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Beautyflow Pest",
      "item": "https://beautyflow.pro/en/beautyflow-pest"
    }
  ]
};

const notinoUrl = location.bookingUrl;
---

<Layout
  title="Beautyflow Pest Beauty Salon | Laser Hair Removal District XIII | Budapest"
  description="Beautyflow Pest beauty salon in District XIII, Budapest. Diode laser hair removal, HydraBeauty facial treatment, permanent makeup. Address: 1135 Budapest, Reitter Ferenc u. 90. Phone: +36 1 300 9414."
  lang="en"
>
  <!-- Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(localBusinessSchema)} />
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbSchema)} />

  <!-- Hero Section - Kapcsolat style with image -->
  <section class="hero-section relative lg:h-[calc(100dvh-60px)] flex flex-col">
    <!-- Top row: Text + Image -->
    <div class="flex flex-col lg:flex-row flex-1 min-h-0">
      <!-- Left column: Text content -->
      <div class="w-full lg:w-1/2 flex flex-col justify-center py-8 lg:py-12 order-2 lg:order-1 bg-[#fff9f7]">
        <div class="w-full px-[6%] text-center">
          <!-- Notino Award Badge -->
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full blur-sm opacity-50"></div>
              <div class="relative bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 p-1 rounded-full">
                <div class="bg-white rounded-full p-1">
                  <FixedImage src={notinoIkon} alt="Notino" class="w-8 h-8" width={32} height={32} />
                </div>
              </div>
            </div>
            <div class="text-left">
              <div class="flex items-center gap-1">
                <svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                <span class="text-xs font-semibold text-gray-700 uppercase tracking-wide">Award-winning salon</span>
              </div>
              <span class="text-sm font-bold text-[#c53f75]">Notino "Salon of the Month"</span>
            </div>
          </div>

          <h1 class="font-heading text-4xl lg:text-5xl text-gray-900 mb-4 uppercase leading-tight">
            Beautyflow Pest
          </h1>
          <p class="text-gray-600 mb-2 text-base lg:text-lg max-w-lg mx-auto">
            Modern beauty salon in Angyalfold
          </p>
          <p class="text-gray-500 mb-6 text-sm flex items-center justify-center gap-2">
            <svg class="w-4 h-4 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            {location.address.full}
          </p>

          <!-- CTA row -->
          <div class="flex flex-col items-center justify-center gap-2">
            <a
              href={notinoUrl}
              target="_blank"
              rel="noopener"
              class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg text-sm lg:text-base"
            >
              Book Appointment
            </a>
            <a
              href={`tel:${location.phone}`}
              class="inline-flex items-center gap-2 text-base lg:text-lg text-[#c53f75] font-bold hover:text-[#a33460] transition-all duration-300"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              {location.phoneDisplay}
            </a>
          </div>
        </div>
      </div>

      <!-- Right column: Pest image -->
      <div class="w-full lg:w-1/2 order-1 lg:order-2 relative overflow-hidden bg-[#c53f75]">
        <ContentImage
          src={beautyflowPestImg}
          alt="Beautyflow Pest beauty salon"
          class="w-full h-full object-cover min-h-[250px] lg:min-h-0"
          priority={true}
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent lg:hidden"></div>

        <!-- Google Rating Badge -->
        <div class="absolute bottom-3 right-3 lg:bottom-5 lg:right-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl p-2 lg:p-3">
          <div class="flex items-center gap-2">
            <FixedImage src={googleLogo} alt="Google" class="w-7 h-7 lg:w-9 lg:h-9 rounded-full" width={36} height={36} />
            <div>
              <div class="flex items-center gap-1">
                <span class="text-base lg:text-xl font-bold text-gray-900 rating-number" data-target="5.0">0</span>
                <div class="flex">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-2.5 h-2.5 lg:w-3.5 lg:h-3.5 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
              <p class="text-[9px] lg:text-[11px] text-gray-600">Based on Google reviews</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="w-full bg-gradient-to-r from-[#c53f75] to-[#a33460] py-4 lg:h-[80px] flex-shrink-0 flex items-center justify-center">
      <div class="max-w-[1000px] mx-auto px-4 w-full">
        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-8 h-full items-center">
          <div class="text-center">
            <p class="text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">10+ years</p>
            <p class="text-white/80 text-[16px] leading-[0.9]">experience</p>
          </div>
          <div class="text-center">
            <p class="text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">10,000+</p>
            <p class="text-white/80 text-[16px] leading-[0.9]">treatments</p>
          </div>
          <div class="text-center">
            <p class="text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">12</p>
            <p class="text-white/80 text-[16px] leading-[0.9]">state-of-the-art machines</p>
          </div>
          <div class="text-center">
            <p class="text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">1,500+</p>
            <p class="text-white/80 text-[16px] leading-[0.9]">satisfied clients</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Main Content -->
  <section class="py-12 lg:py-20 bg-gradient-to-b from-white to-[#fdf8f6]">
    <div class="container mx-auto px-4">
      <div class="grid lg:grid-cols-3 gap-8 lg:gap-12">

        <!-- Left Column: Location Details -->
        <div class="lg:col-span-2 space-y-12">

          <!-- About Section -->
          <div>
            <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-4">
              Welcome to Beautyflow Pest Beauty Salon
            </h2>
            <div class="prose prose-lg text-gray-600 max-w-none">
              <p>
                <strong>Beautyflow Pest</strong> beauty salon is located in <strong>District XIII</strong>, in one
                of Angyalfold's dynamically developing neighborhoods. Our salon, situated near Duna Plaza and
                Dozsa Gyorgy ut, is easily accessible from any part of the city.
              </p>
              <p>
                The Pest salon opened in 2022 and has since become one of the most popular beauty centers in the area.
                We provide the same <strong>professional service standards</strong> as our Buda salon:
                <strong>diode laser hair removal</strong>, <strong>HydraBeauty facial treatment</strong>,
                <strong>permanent makeup</strong> and <strong>carbon peeling</strong>.
              </p>
              <p>
                Our salon is particularly popular among those who live or work on the Pest side and want to
                take advantage of early morning opening or extended Saturday hours. We offer all our guests
                a <strong>free consultation</strong> on their first visit.
              </p>
            </div>
          </div>

          <!-- Services Section -->
          <div>
            <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-6">
              Our Services in Pest
            </h2>
            <div class="grid sm:grid-cols-2 gap-4">
              {services.map((service) => (
                <a
                  href={service.link}
                  class="group bg-white rounded-xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-lg hover:border-[#c53f75]/20 transition-all"
                >
                  <div class="aspect-[16/10] overflow-hidden">
                    <CardImage
                      src={service.image}
                      alt={service.name}
                      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                    />
                  </div>
                  <div class="p-5">
                    <h3 class="font-semibold text-gray-900 mb-2 group-hover:text-[#c53f75] transition-colors">
                      {service.name}
                    </h3>
                    <p class="text-sm text-gray-600 leading-relaxed">
                      {service.description}
                    </p>
                  </div>
                </a>
              ))}
            </div>
            <div class="mt-6 text-center">
              <a href="/en/prices" class="inline-flex items-center gap-2 text-[#c53f75] font-semibold hover:underline">
                View full price list
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>

          <!-- Testimonials Section -->
          <div>
            <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-6">
              What Our Clients Say
            </h2>
            <div class="grid gap-4">
              {testimonials.map((testimonial) => (
                <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                  <div class="flex items-center gap-1 mb-3">
                    {[...Array(testimonial.rating)].map(() => (
                      <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                      </svg>
                    ))}
                  </div>
                  <p class="text-gray-700 mb-3 italic">"{testimonial.text}"</p>
                  <div class="flex items-center justify-between">
                    <span class="font-semibold text-gray-900">{testimonial.name}</span>
                    <span class="text-sm text-[#c53f75]">{testimonial.service}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>

          <!-- How to Get There -->
          <div>
            <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-6">
              Getting Here
            </h2>
            <div class="grid sm:grid-cols-2 gap-6">
              <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4" />
                    </svg>
                  </div>
                  <h3 class="font-semibold text-gray-900">By Public Transport</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                  {location.publicTransport}
                </p>
              </div>
              <div class="bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center">
                    <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4" />
                    </svg>
                  </div>
                  <h3 class="font-semibold text-gray-900">Parking</h3>
                </div>
                <p class="text-gray-600 text-sm leading-relaxed">
                  {location.parking}
                </p>
              </div>
            </div>
            <div class="mt-4 p-4 bg-blue-50 rounded-lg border border-blue-100">
              <p class="text-sm text-blue-800 flex items-center gap-2">
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span><strong>Accessibility:</strong> {location.accessibility}</span>
              </p>
            </div>
          </div>

          <!-- Area Info - Unique to Pest -->
          <div>
            <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-6">
              The Beauty Salon of District XIII
            </h2>
            <div class="bg-gradient-to-br from-[#fdf8f6] to-white rounded-xl p-6 border border-gray-100">
              <p class="text-gray-600 leading-relaxed mb-4">
                Beautyflow Pest proudly serves the residents of District XIII and surrounding areas.
                Our clients often come from Angyalfold, Ujlipotvaros, the Margit Island area,
                and even from Ujpest and Obuda.
              </p>
              <p class="text-gray-600 leading-relaxed">
                Our salon is an ideal choice for those working at Duna Plaza, Westend City Center or
                the office buildings on Vaci ut - they can easily stop by during lunch break or after work
                for a quick treatment.
              </p>
            </div>
          </div>
        </div>

        <!-- Right Column: Sidebar -->
        <div class="lg:col-span-1">
          <div class="sticky top-24 space-y-6">

            <!-- Contact Card -->
            <div class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden">
              <div class="bg-white p-8">
                <h3 class="font-heading text-2xl text-gray-900 mb-2">Contact</h3>
                <p class="text-gray-600">Call us or book online!</p>
              </div>
              <div class="p-8 pt-0 space-y-5">
                <!-- Address -->
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-[#c53f75] mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  <div>
                    <p class="font-semibold text-gray-900">Address</p>
                    <a href={location.googleMapsUrl} target="_blank" rel="noopener" class="text-gray-600 hover:text-[#c53f75] transition-colors text-sm">
                      {location.address.full}
                    </a>
                  </div>
                </div>

                <!-- Phone -->
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-[#c53f75] mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                  </svg>
                  <div>
                    <p class="font-semibold text-gray-900">Phone</p>
                    <a href={`tel:${location.phone}`} class="text-gray-600 hover:text-[#c53f75] transition-colors text-sm">
                      {location.phoneDisplay}
                    </a>
                  </div>
                </div>

                <!-- Email -->
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 text-[#c53f75] mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                  <div>
                    <p class="font-semibold text-gray-900">Email</p>
                    <a href={`mailto:${location.email}`} class="text-gray-600 hover:text-[#c53f75] transition-colors text-sm">
                      {location.email}
                    </a>
                  </div>
                </div>

                <a
                  href={notinoUrl}
                  target="_blank"
                  rel="noopener"
                  class="block w-full bg-[#c53f75] text-white text-center font-semibold py-3 rounded-full hover:bg-[#a33460] transition-colors"
                >
                  Book Appointment
                </a>
              </div>
            </div>

            <!-- Opening Hours Card -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden">
              <div class="p-6 border-b border-gray-100">
                <h3 class="font-heading text-xl text-gray-900 flex items-center gap-2">
                  <svg class="w-5 h-5 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  Opening Hours
                </h3>
              </div>
              <div class="p-6">
                <table class="w-full text-sm">
                  <tbody>
                    {location.hours.map((hour) => (
                      <tr class="border-b border-gray-100 last:border-0">
                        <td class="py-2 font-medium text-gray-700">{hour.day}</td>
                        <td class="py-2 text-right text-gray-600">
                          {hour.closed ? <span class="text-red-500">Closed</span> : `${hour.open} - ${hour.close}`}
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Map Preview -->
            <div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden">
              <div class="aspect-video bg-gray-100 relative">
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2695.5!2d19.0512!3d47.5287!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4741dc44d2ea0002%3A0x1234567891!2sReitter%20Ferenc%20u.%2090%2C%20Budapest%2C%201135!5e0!3m2!1shu!2shu!4v1234567891"
                  width="100%"
                  height="100%"
                  style="border:0;"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                  title="Beautyflow Pest map"
                  class="absolute inset-0"
                ></iframe>
              </div>
              <a
                href={location.googleMapsUrl}
                target="_blank"
                rel="noopener"
                class="block p-4 text-center text-[#c53f75] font-semibold hover:bg-gray-50 transition-colors"
              >
                Open larger map
              </a>
            </div>

            <!-- Other Location CTA -->
            <div class="bg-gradient-to-br from-[#fdf8f6] to-white rounded-xl p-6 border border-gray-100">
              <p class="text-sm text-gray-600 mb-3">More convenient on the Buda side?</p>
              <a
                href="/en/beautyflow-buda"
                class="inline-flex items-center gap-2 text-[#c53f75] font-semibold hover:underline"
              >
                Beautyflow Buda salon
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section specific to location -->
  <section class="py-12 lg:py-16 bg-[#fdf8f6]">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 text-center mb-8">
          Frequently Asked Questions About the Pest Salon
        </h2>

        <div class="space-y-4">
          <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300">
            <button class="faq-question w-full flex items-center justify-between p-6 cursor-pointer text-left" aria-expanded="false">
              <span class="faq-question-text font-semibold text-gray-900 transition-colors duration-300">How can I book an appointment?</span>
              <svg class="faq-icon w-5 h-5 text-[#c53f75] transition-transform duration-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-6 pb-6 text-gray-600">
                <p>For online booking, select the Beautyflow Pest location on the Notino platform. You can also reach us by phone at {location.phoneDisplay} Monday to Friday 08:00-18:00, and Saturday 10:00-20:00.</p>
              </div>
            </div>
          </div>

          <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300">
            <button class="faq-question w-full flex items-center justify-between p-6 cursor-pointer text-left" aria-expanded="false">
              <span class="faq-question-text font-semibold text-gray-900 transition-colors duration-300">Is there free parking available?</span>
              <svg class="faq-icon w-5 h-5 text-[#c53f75] transition-transform duration-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-6 pb-6 text-gray-600">
                <p>{location.parking}</p>
              </div>
            </div>
          </div>

          <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300">
            <button class="faq-question w-full flex items-center justify-between p-6 cursor-pointer text-left" aria-expanded="false">
              <span class="faq-question-text font-semibold text-gray-900 transition-colors duration-300">Why is the Pest salon closed on Sundays?</span>
              <svg class="faq-icon w-5 h-5 text-[#c53f75] transition-transform duration-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-6 pb-6 text-gray-600">
                <p>Our Pest salon is closed on Sundays, but our Buda salon is open from 10:00-19:00. If you need a Sunday appointment, please book at Beautyflow Buda salon!</p>
              </div>
            </div>
          </div>

          <div class="faq-item bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300">
            <button class="faq-question w-full flex items-center justify-between p-6 cursor-pointer text-left" aria-expanded="false">
              <span class="faq-question-text font-semibold text-gray-900 transition-colors duration-300">Are the prices the same at both salons?</span>
              <svg class="faq-icon w-5 h-5 text-[#c53f75] transition-transform duration-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-6 pb-6 text-gray-600">
                <p>Yes, Beautyflow Buda and Beautyflow Pest salons have identical prices. You can view the full price list on our Prices page.</p>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-8 text-center">
          <a href="/en/faq" class="inline-flex items-center gap-2 text-[#c53f75] font-semibold hover:underline">
            More questions and answers
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
            </svg>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-br from-[#1a1a2e] to-[#2d2d44] relative overflow-hidden">
    <div class="absolute inset-0">
      <div class="absolute top-0 left-1/4 w-64 h-64 bg-[#c53f75]/20 rounded-full blur-3xl"></div>
      <div class="absolute bottom-0 right-1/4 w-80 h-80 bg-[#e497a2]/10 rounded-full blur-3xl"></div>
    </div>
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-2xl mx-auto text-center text-white">
        <h2 class="font-heading text-3xl lg:text-4xl mb-4">
          Visit Us in Pest!
        </h2>
        <p class="text-white/80 mb-8">
          Book an appointment online and discover the beauty salon of District XIII!
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href={notinoUrl}
            target="_blank"
            rel="noopener"
            class="inline-flex items-center justify-center gap-2 bg-[#c53f75] text-white font-semibold uppercase text-sm px-8 py-4 rounded-full hover:bg-[#a33460] transition-all shadow-lg"
          >
            Book Appointment
          </a>
          <a
            href={`tel:${location.phone}`}
            class="inline-flex items-center justify-center gap-2 bg-white/10 text-white font-semibold uppercase text-sm px-8 py-4 rounded-full hover:bg-white/20 transition-all border border-white/30"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            {location.phoneDisplay}
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* FAQ Animated Accordion */
  .faq-answer {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s 0.4s, opacity 0.3s ease;
  }

  .faq-item.active .faq-answer {
    grid-template-rows: 1fr;
  }

  .faq-item.active .faq-answer-inner {
    visibility: visible;
    opacity: 1;
    transition: visibility 0s, opacity 0.3s ease 0.1s;
  }

  .faq-item.active {
    border-color: #c53f75;
    box-shadow: 0 10px 25px rgba(197, 63, 117, 0.15);
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
  }

  .faq-item.active .faq-question-text {
    color: #c53f75;
  }

  .faq-item:hover .faq-question-text {
    color: #c53f75;
  }
</style>

<script>
  function initFAQAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');

      question?.addEventListener('click', () => {
        const isActive = item.classList.contains('active');

        // Close all other items
        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.classList.remove('active');
            otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
          }
        });

        // Toggle current item
        item.classList.toggle('active');
        question.setAttribute('aria-expanded', (!isActive).toString());
      });
    });
  }

  function initRatingAnimation() {
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const ratingElements = document.querySelectorAll('.rating-number');

    if (prefersReducedMotion) {
      ratingElements.forEach(el => {
        el.textContent = el.getAttribute('data-target') || '5.0';
      });
      return;
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const el = entry.target as HTMLElement;
          const target = parseFloat(el.getAttribute('data-target') || '5.0');
          animateRating(el, target);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    ratingElements.forEach(el => observer.observe(el));
  }

  function animateRating(element: HTMLElement, target: number) {
    const duration = 1500;
    const start = 1;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOut = 1 - Math.pow(1 - progress, 3);
      const current = start + (target - start) * easeOut;
      element.textContent = current.toFixed(1);
      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  document.addEventListener('DOMContentLoaded', () => {
    initFAQAccordion();
    initRatingAnimation();
  });
  document.addEventListener('astro:page-load', () => {
    initFAQAccordion();
    initRatingAnimation();
  });
</script>
