---
import Layout from '../layouts/Layout.astro';
import LocationsSection from '../components/LocationsSection.astro';

const notinoUrlBuda = "https://www.notino.hu/szalonok/beautyflow?source_caller=ui&shortlink=lbbsjxf8&c=salon_detail_redirect&pid=notino_partner&deep_link_value=https%3A%2F%2Fnotino.hu%2Fszalonok%2Fbeautyflow&af_xp=custom";
const notinoUrlPest = "https://www.notino.hu/szalonok/beautyflow-pest?source_caller=ui&shortlink=lbbsjxf8&c=salon_detail_redirect&pid=notino_partner&deep_link_value=https%3A%2F%2Fnotino.hu%2Fszalonok%2Fbeautyflow-pest&af_xp=custom";

const locations = [
  {
    name: 'Beautyflow Buda',
    address: '1116 Budapest, Vegyész u. 1.',
    image: '/images/Beautyflow-buda.jpg',
    bookingUrl: notinoUrlBuda,
    hours: [
      { days: 'Hétfő – Péntek', time: '08:00 – 20:00' },
      { days: 'Szombat', time: '10:00 – 20:00' },
      { days: 'Vasárnap', time: '10:00 – 19:00' },
    ]
  },
  {
    name: 'Beautyflow Pest',
    address: '1135 Budapest, Reitter Ferenc u. 90.',
    image: '/images/Beautyflow-Pest.jpg',
    bookingUrl: notinoUrlPest,
    hours: [
      { days: 'Hétfő – Péntek', time: '08:00 – 18:00' },
      { days: 'Szombat', time: '10:00 – 20:00' },
      { days: 'Vasárnap', time: 'Zárva' },
    ]
  }
];

const stats = [
  { value: '10+ év', label: 'tapasztalat' },
  { value: '5 000+', label: 'elvégzett sminktetoválás' },
  { value: '100%', label: 'elégedett vendég' },
  { value: '1-3 év', label: 'tartósság' },
];

const testimonials = [
  {
    text: 'Fantasztikus munkát végeztek a szemöldökömön! Minden reggel örülök, hogy nem kell sminkelnem, és mégis tökéletesen nézek ki.',
    author: 'Kiss Petra',
    image: '/images/laszlo-eszter.png'
  },
  {
    text: 'A szájtetoválás után annyira természetes lett az ajkam színe, mintha mindig is ilyen lett volna. Profi munka!',
    author: 'Nagy Anita',
    image: '/images/kitti.png'
  },
  {
    text: 'A szemhéjtetoválásom csodás lett! Reggel már készen vagyok, nem kell bajlódnom a szemceruza felhúzásával.',
    author: 'Szabó Réka',
    image: '/images/dora.png'
  }
];

const treatmentTypes = [
  {
    title: 'Szemöldök tetoválás',
    description: 'Természetes hatású, szálazott vagy púderes technikával készült szemöldök, ami tökéletesen illik az arcformádhoz.',
    image: '/images/szemoldok-sminktetovalas.jpg',
    price: '75 000 - 80 000 Ft'
  },
  {
    title: 'Szempillaalap tetoválás',
    description: 'Dúsabb, kifejezőbb pillák illúziója, ami kiemeli a szemed szépségét smink nélkül is.',
    image: '/images/szemhej-sminktetovalas-budapest.jpg',
    price: '20 000 - 100 000 Ft'
  },
  {
    title: 'Ajak tetoválás',
    description: 'Természetes rózsaszíntől az intenzív rúzs hatásig – az ajkad mindig tökéletes lesz.',
    image: '/images/ajak-sminktetovalas.jpg',
    price: '100 000 Ft'
  },
  {
    title: 'Szájkontúr tetoválás',
    description: 'Precíz kontúrvonallal hangsúlyozd ajkaid természetes formáját és tedd őket teltebbé.',
    image: '/images/sminktetovalas-mb.jpg',
    price: '80 000 Ft'
  }
];

const howItWorks = [
  {
    number: '1.',
    title: 'Ingyenes konzultáció',
    description: 'Az első találkozáskor megbeszéljük az elképzeléseidet, megnézzük az arcformádat és bőrtípusodat, majd közösen kiválasztjuk a legjobb megoldást.'
  },
  {
    number: '2.',
    title: 'Előrajzolás és egyeztetés',
    description: 'A kezelés előtt precízen megtervezzük és felrajzoljuk a kívánt formát. Csak akkor kezdünk el dolgozni, ha 100%-ban elégedett vagy az előrajzzal.'
  },
  {
    number: '3.',
    title: 'A tetoválás elkészítése',
    description: 'Érzéstelenítő krém segítségével a folyamat szinte teljesen fájdalommentes. A kezelés kb. 1-2 óra, és rögtön látható az eredmény.'
  },
  {
    number: '4.',
    title: 'Utókezelés és javítás',
    description: 'A gyógyulás után (4-6 hét) egy ingyenes korrekciós kezelésen finomítjuk az eredményt, hogy tökéletes legyen.'
  }
];

const priceList = [
  { service: 'Szemöldök tetoválás (szálazás)', price: '75 000 Ft' },
  { service: 'Szemöldök tetoválás (púderes)', price: '80 000 Ft' },
  { service: 'Szemöldök korrekció (saját munka)', price: '40 000 Ft' },
  { service: 'Szempillaalap tetoválás', price: '20 000 - 100 000 Ft' },
  { service: 'Ajak tetoválás (teljes)', price: '100 000 Ft' },
  { service: 'Szájkontúr tetoválás', price: '80 000 Ft' },
  { service: 'Ajak korrekció (saját munka)', price: '50 000 Ft' },
];

const whyChooseUs = [
  {
    image: '/images/sminktetovalas-bemeres.webp',
    title: 'Precíz előrajzolás\nés tervezés',
    description: 'Mielőtt bármit is csinálnánk, részletesen megtervezzük és felrajzoljuk a kívánt formát. Csak akkor kezdünk el dolgozni, ha 100%-ban elégedett vagy.'
  },
  {
    image: '/images/sminktetovalas-budapest.jpg',
    title: 'Természetes\nhatás',
    description: 'A cél mindig a természetes, harmonikus megjelenés. A sminktetoválás úgy néz ki, mintha mindig is ilyen lett volna.'
  },
  {
    image: '/images/higienia.jpg',
    title: 'Steril környezet\nés biztonság',
    description: 'Kizárólag egyszerhasználatos tűket és sterile eszközöket használunk. A higiénia nálunk alapkövetelmény.'
  },
  {
    image: '/images/konya-fanni-szepsegszalonja-1.jpg',
    title: 'Tapasztalt\nszakemberek',
    description: '10+ év tapasztalattal rendelkező sminktetováló szakemberek várnak, akik folyamatosan képzik magukat a legújabb technikákból.'
  },
  {
    image: '/images/sminktetovalas-budapest-beautyflow.jpg',
    title: 'Ingyenes\nkorrekció',
    description: 'Minden sminktetováláshoz tartozik egy ingyenes korrekciós kezelés 4-6 hét után, hogy az eredmény tökéletes legyen.'
  },
  {
    image: '/images/beautyflow-dijak.webp',
    title: 'Díjnyertes\nszalon',
    description: 'A Notino "Hónap Szalonja" díj és számos egyéb elismerés bizonyítja munkánk minőségét.'
  }
];

const faqs = [
  { question: 'Mennyire fájdalmas a sminktetoválás?', answer: 'Érzéstelenítő krémet használunk, így a folyamat szinte teljesen fájdalommentes. A legtöbb vendégünk csak enyhe nyomást érez.' },
  { question: 'Mennyi ideig tart a gyógyulás?', answer: 'A teljes gyógyulás kb. 4-6 hetet vesz igénybe. Az első napokban enyhe duzzanat és kérgezedés tapasztalható.' },
  { question: 'Meddig tart a sminktetoválás?', answer: 'Bőrtípustól és életmódtól függően 1-3 évig tart. Évente egyszer javasolt a frissítés.' },
  { question: 'Lehet-e allergiás reakció?', answer: 'Nagyon ritka, de előfordulhat. Ezért az első konzultáción érzékenységi tesztet végzünk.' },
  { question: 'Szaunázhatok, úszhatok utána?', answer: 'Az első 2 hétben kerüld a szaunát, uszodát és erős napozást. Utána már nincs korlátozás.' },
  { question: 'Mi történik, ha nem tetszik az eredmény?', answer: 'Ezért végzünk részletes előrajzolást. Ha mégsem vagy elégedett, a korrekciós kezelésen finomítunk.' },
  { question: 'Lehet-e sminktetoválást eltávolítani?', answer: 'Igen, lézerrel eltávolítható, de ez időigényes és költséges folyamat. Ezért fontos a gondos tervezés.' },
  { question: 'Terhesség alatt lehet sminktetoválást csináltatni?', answer: 'Nem javasolt terhesség és szoptatás alatt a sminktetoválás.' },
  { question: 'Hány kezelés szükséges?', answer: 'Általában 1 kezelés + 1 korrekció elegendő a tökéletes eredményhez.' },
  { question: 'Hogyan készüljek fel a kezelésre?', answer: 'Kerüld az alkoholt 24 órával előtte, a szemöldök gyantázást/szedést 2 hétig, és a vérhígítókat.' },
];
---

<Layout
  title="Tartós Sminktetoválás Budapest - Szemöldök, Ajak, Szempilla | Beautyflow"
  description="Professzionális sminktetoválás Budapesten. Szemöldök, szempillaalap és ajak tetoválás természetes hatással. 10+ év tapasztalat. Kérj ingyenes konzultációt!"
>
  <!-- Hero Section -->
  <section class="hero-section relative lg:h-[calc(100dvh-60px)] flex flex-col">
    <div class="flex flex-col lg:flex-row flex-1 min-h-0">
      <!-- Left column: Text content -->
      <div class="w-full lg:w-1/2 flex flex-col justify-center py-6 lg:py-8 order-2 lg:order-1 bg-[#fff9f7]">
        <div class="w-full px-[6%] text-center">
          <!-- Notino Award Badge -->
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full blur-sm opacity-50"></div>
              <div class="relative bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 p-1 rounded-full">
                <div class="bg-white rounded-full p-1">
                  <img src="/images/notino-ikon.png" alt="Notino" class="w-8 h-8" />
                </div>
              </div>
            </div>
            <div class="text-left">
              <div class="flex items-center gap-1">
                <svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                <span class="text-xs font-semibold text-gray-700 uppercase tracking-wide">Díjnyertes szalon</span>
              </div>
              <span class="text-sm font-bold text-[#c53f75]">Notino "Hónap Szalonja"</span>
            </div>
          </div>

          <h1 class="font-heading text-3xl lg:text-5xl text-gray-900 mb-4 uppercase leading-tight">
            Tartós Sminktetoválás
          </h1>
          <p class="text-gray-600 mb-6 text-base lg:text-lg max-w-lg mx-auto">
            Nézz ki mindig tökéletesen, rögtön az ágyból felkelve is. Szemöldök, szempillaalap és ajak tetoválás természetes hatással.
          </p>

          <!-- CTA row -->
          <div class="flex flex-col items-center justify-center gap-2">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg text-sm lg:text-base"
            >
              Kérj Ingyenes konzultációt
            </a>
            <a
              href="tel:+3613009414"
              class="inline-flex items-center gap-2 text-base lg:text-lg text-[#c53f75] font-bold hover:text-[#a33460] transition-all duration-300"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              +36 1 300 9414
            </a>
          </div>
        </div>
      </div>

      <!-- Right column: Hero image -->
      <div class="w-full lg:w-1/2 order-1 lg:order-2 relative overflow-hidden min-h-[300px] lg:min-h-0">
        <img
          src="/images/sminktetovalas-mb-2.jpg"
          alt="Sminktetoválás Budapest"
          class="w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent lg:hidden"></div>

        <!-- Google Rating Badge -->
        <div class="absolute bottom-3 right-3 lg:bottom-5 lg:right-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl p-2 lg:p-3">
          <div class="flex items-center gap-2">
            <img src="/images/google-logo.jpg" alt="Google" class="w-7 h-7 lg:w-9 lg:h-9 rounded-full" />
            <div>
              <div class="flex items-center gap-1">
                <span class="text-base lg:text-xl font-bold text-gray-900 rating-number" data-target="4.9">0</span>
                <div class="flex">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-2.5 h-2.5 lg:w-3.5 lg:h-3.5 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
              <p class="text-[9px] lg:text-[11px] text-gray-600">130 Google értékelés alapján</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="w-full bg-gradient-to-r from-[#6366f1] to-[#4f46e5] h-[80px] flex-shrink-0 flex items-center justify-center">
      <div class="max-w-[1000px] mx-auto px-4 w-full">
        <div class="grid grid-cols-4 gap-3 lg:gap-8 h-full items-center">
          {stats.map((stat, index) => (
            <div class="text-center stat-item" style={`animation-delay: ${index * 100}ms`}>
              <p class="text-[24px] lg:text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">
                {stat.value}
              </p>
              <p class="text-white/80 text-[12px] lg:text-[16px] leading-[0.9]">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Treatment Types Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Sminktetoválás típusok
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        Válaszd ki, melyik területet szeretnéd tökéletesíteni. Minden kezeléshez ingyenes korrekció tartozik.
      </p>

      <div class="grid md:grid-cols-2 gap-6">
        {treatmentTypes.map((treatment) => (
          <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow">
            <img
              src={treatment.image}
              alt={treatment.title}
              class="w-full h-56 object-cover"
            />
            <div class="p-6">
              <h3 class="font-heading text-xl text-gray-900 mb-2">{treatment.title}</h3>
              <p class="text-gray-600 text-sm mb-4">{treatment.description}</p>
              <p class="text-[#6366f1] font-bold text-lg">{treatment.price}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="py-16 bg-[#fff9f7]">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        A sminktetoválás menete
      </h2>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        {howItWorks.map((step) => (
          <div class="text-center">
            <div class="w-16 h-16 mx-auto mb-4 bg-[#6366f1] rounded-full flex items-center justify-center">
              <span class="text-2xl font-bold text-white">{step.number}</span>
            </div>
            <h3 class="font-heading text-lg text-gray-900 mb-2">{step.title}</h3>
            <p class="text-gray-600 text-sm">{step.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[1200px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Miért minket válassz?
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        A Beautyflow-nál a minőség és a vendégelégedettség az első
      </p>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {whyChooseUs.map((item) => (
          <div class="bg-[#fdf8f6] rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow">
            <img
              src={item.image}
              alt={item.title}
              class="w-full h-48 object-cover"
            />
            <div class="p-5">
              <h3 class="font-heading text-lg text-gray-900 mb-2 whitespace-pre-line">{item.title}</h3>
              <p class="text-gray-600 text-sm">{item.description}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="py-16 bg-[#fff9f7]">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Vendégeink mondták
      </h2>

      <div class="grid md:grid-cols-3 gap-6">
        {testimonials.map((testimonial) => (
          <div class="bg-white rounded-xl p-6 shadow-sm">
            <div class="flex items-center gap-4 mb-4">
              <img
                src={testimonial.image}
                alt={testimonial.author}
                class="w-12 h-12 rounded-full object-cover"
              />
              <div>
                <p class="font-semibold text-gray-900">{testimonial.author}</p>
                <div class="flex text-yellow-400">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
            </div>
            <p class="text-gray-600 text-sm italic">"{testimonial.text}"</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Price List Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[800px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Áraink
      </h2>
      <p class="text-gray-600 text-center mb-8">
        Minden ár tartalmazza az ingyenes korrekciós kezelést
      </p>

      <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg">
        <table class="w-full">
          <tbody class="divide-y divide-gray-200">
            {priceList.map((item) => (
              <tr class="hover:bg-white/50 transition-colors">
                <td class="py-4 px-6 text-gray-900 font-medium">{item.service}</td>
                <td class="py-4 px-6 text-right text-[#6366f1] font-bold">{item.price}</td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>

      <div class="mt-8 text-center">
        <a
          href="/ingyenes-konzultacio"
          class="inline-block px-8 py-3 bg-[#6366f1] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#4f46e5] transition-all duration-300 hover:scale-105"
        >
          Ingyenes konzultációt kérek
        </a>
      </div>
    </div>
  </section>

  <!-- Partners Section -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-2xl text-gray-900 mb-8 text-center uppercase">
        Partnereink
      </h2>
      <div class="flex flex-wrap justify-center items-center gap-8 lg:gap-12">
        <div class="flex flex-col items-center">
          <img src="/images/logok/notino-logo-sm.jpg" alt="Notino Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" />
        </div>
        <div class="flex flex-col items-center">
          <img src="/images/logok/skinlab.webp" alt="Skinlab Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" />
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-[#fff9f7]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Gyakran Ismételt Kérdések
      </h2>

      <div class="grid md:grid-cols-2 gap-4">
        {faqs.map((faq) => (
          <div class="faq-item bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100 transition-all duration-300 hover:shadow-md">
            <button
              class="faq-question w-full text-left flex items-center justify-between p-5 cursor-pointer"
              aria-expanded="false"
            >
              <h3 class="faq-question-text font-semibold text-gray-900 pr-4 transition-colors duration-300 text-sm">{faq.question}</h3>
              <svg class="faq-icon w-5 h-5 text-[#6366f1] transition-transform duration-300 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-5 pb-5">
                <p class="text-gray-600 text-sm">{faq.answer}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#6366f1] to-[#4f46e5]">
    <div class="max-w-[800px] mx-auto px-4 text-center">
      <h2 class="font-heading text-3xl lg:text-4xl text-white mb-4 uppercase">
        Készen állsz a változásra?
      </h2>
      <p class="text-white/90 mb-8 text-lg">
        Foglalj időpontot ingyenes konzultációra és ismerd meg a lehetőségeidet!
      </p>
      <a
        href="/ingyenes-konzultacio"
        class="inline-block px-10 py-4 bg-white text-[#6366f1] font-bold uppercase text-sm tracking-wide rounded-full hover:bg-gray-100 transition-all duration-300 hover:scale-105 shadow-lg"
      >
        Ingyenes konzultációt kérek
      </a>
    </div>
  </section>

  <!-- Locations Section -->
  <LocationsSection />
</Layout>

<script>
  function initRatingAnimation() {
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const ratingElements = document.querySelectorAll('.rating-number');

    if (prefersReducedMotion) {
      ratingElements.forEach(el => {
        el.textContent = el.getAttribute('data-target') || '4.9';
      });
      return;
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const el = entry.target as HTMLElement;
          const target = parseFloat(el.getAttribute('data-target') || '4.9');
          animateRating(el, target);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    ratingElements.forEach(el => observer.observe(el));
  }

  function animateRating(element: HTMLElement, target: number) {
    const duration = 1500;
    const start = 1;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOut = 1 - Math.pow(1 - progress, 3);
      const current = start + (target - start) * easeOut;
      element.textContent = current.toFixed(1);
      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  function initFAQAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');

      question?.addEventListener('click', () => {
        const isActive = item.classList.contains('active');

        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.classList.remove('active');
            otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
          }
        });

        item.classList.toggle('active');
        question.setAttribute('aria-expanded', (!isActive).toString());
      });
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
  document.addEventListener('astro:page-load', () => {
    initRatingAnimation();
    initFAQAccordion();
  });
</script>

<style>
  .stat-item {
    opacity: 1;
  }

  .faq-answer {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s 0.4s, opacity 0.3s ease;
  }

  .faq-item.active .faq-answer {
    grid-template-rows: 1fr;
  }

  .faq-item.active .faq-answer-inner {
    visibility: visible;
    opacity: 1;
    transition: visibility 0s, opacity 0.3s ease 0.1s;
  }

  .faq-item.active {
    border-color: #6366f1;
    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.15);
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
  }

  .faq-item.active .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-question-text {
    color: #6366f1;
  }
</style>
