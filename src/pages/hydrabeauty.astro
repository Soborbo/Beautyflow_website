---
import Layout from '../layouts/Layout.astro';
import LocationsSection from '../components/LocationsSection.astro';

const stats = [
  { value: '10+ év', label: 'tapasztalat' },
  { value: '60-120', label: 'perces kezelés' },
  { value: '100%', label: 'elégedett vendég' },
  { value: '0', label: 'fájdalom' },
];

const testimonials = [
  {
    text: 'A HydraBeauty kezelés után a bőröm annyira puha és ragyogó lett, hogy smink nélkül mentem el dolgozni másnap. Imádom!',
    author: 'Eszter',
  },
  {
    text: 'Évek óta küzdöttem a mitesszerekkel. Már az első kezelés után óriási különbséget láttam. Visszajáró vendég lettem!',
    author: 'Petra',
  },
  {
    text: 'Nagyon relaxáló volt a kezelés, és az eredmény fantasztikus. A bőröm olyan friss, mint évekkel ezelőtt.',
    author: 'Anita',
  }
];

// Treatment types for step 1
const treatmentTypes = [
  { id: 'hydrofacial', name: 'HydroFacial', description: 'Mélytisztító és hidratáló arckezelés' },
  { id: 'hydrofacial-carbon', name: 'HydroFacial + Carbon Peeling', description: 'Komplex kezelés bőrfiatalítással' },
];

// Areas for step 2 - shown based on selected treatment type
const hydrofacialAreas = [
  { id: 'arc', name: 'Arc', duration: '60 perc', price: 20000 },
  { id: 'hat', name: 'Hát', duration: '90 perc', price: 25000 },
  { id: 'arc-nyak-dekoltazs', name: 'Arc + nyak + dekoltázs', duration: '100 perc', price: 30000 },
];

const hydrofacialCarbonAreas = [
  { id: 'arc', name: 'Arc', duration: '100 perc', price: 40000 },
  { id: 'arc-dekoltazs', name: 'Arc + dekoltázs', duration: '120 perc', price: 45000 },
  { id: 'hat', name: 'Hát', duration: '120 perc', price: 45000 },
];

const howItWorks = [
  {
    number: '1.',
    title: 'Bőranalízis és tisztítás',
    description: 'A kezelés előtt alaposan megvizsgáljuk a bőröd állapotát és eltávolítjuk a sminket. Ez segít meghatározni, mely területekre kell fokozottan figyelni.'
  },
  {
    number: '2.',
    title: 'Mélytisztítás és hámlasztás',
    description: 'Vákuumos technológiával kíméletesen eltávolítjuk az elhalt hámsejteket és a szennyeződéseket a pórusokból. Ez fájdalommentes, de rendkívül hatékony.'
  },
  {
    number: '3.',
    title: 'Hidratálás és hatóanyag-bevitel',
    description: 'Speciális szérumokat juttatunk a bőr mélyebb rétegeibe: hialuronsav, antioxidánsok és vitaminok töltik fel és táplálják a bőrt.'
  },
  {
    number: '4.',
    title: 'Lezárás és védelem',
    description: 'A kezelést hidratáló maszkkal és fényvédővel zárjuk, hogy a bőröd védett és ápoltan indulhasson. Az eredmény azonnal látható!'
  }
];

const faqs = [
  { question: 'Mennyire fájdalmas a HydraBeauty kezelés?', answer: 'A kezelés teljesen fájdalommentes! Sokan kellemes, relaxáló élménynek tartják. A vákuumos tisztítás enyhe szívó érzéssel jár, de ez egyáltalán nem kellemetlen.' },
  { question: 'Kinek ajánlott a HydraBeauty?', answer: 'Mindenkinek! Zsíros, aknés, száraz, érzékeny vagy érett bőrre egyaránt alkalmas. A kezelést mindig személyre szabjuk a bőrtípusodnak megfelelően.' },
  { question: 'Milyen gyakran érdemes ismételni?', answer: 'Optimális eredményért havonta 1-2 alkalommal javasolt. Speciális bőrproblémák esetén kezdetben sűrűbben, majd fenntartó kezelésként ritkábban.' },
  { question: 'Van-e leállási idő a kezelés után?', answer: 'Nincs! A HydraBeauty után azonnal visszatérhetsz a mindennapokhoz. Sőt, a bőröd olyan szép lesz, hogy akár smink nélkül is mehetsz bárhova.' },
  { question: 'Sminkelhetek a kezelés után?', answer: 'Igen, de javasoljuk, hogy hagyd pihenni a bőröd legalább pár órán át. A tiszta, ragyogó bőrnek amúgy sem lesz szüksége sok sminkre!' },
  { question: 'Miben különbözik más arckezelésektől?', answer: 'A HydraBeauty egyedülálló módon kombinálja a mélytisztítást, hámlasztást és hidratálást egyetlen kezelésben. Nincs bőrirritáció, nincs pirosság, csak azonnali eredmény.' },
  { question: 'Terhesség alatt végezhető a kezelés?', answer: 'Igen, a HydraBeauty terhesség alatt is biztonságos, mivel kíméletes és nem tartalmaz agresszív vegyszereket. Természetesen egyeztesd kezelőorvosodddal.' },
  { question: 'Mennyire tartós az eredmény?', answer: 'Az azonnali ragyogás 1-2 hétig látványos. Rendszeres kezeléssel a bőr állapota folyamatosan javul, és hosszú távon is megőrizheted az eredményt.' },
  { question: 'Mi történik, ha érzékeny a bőröm?', answer: 'A HydraBeauty kifejezetten kíméletes, érzékeny bőrre is tökéletes! A kezelést mindig a bőrtípusodhoz igazítjuk, és kizárólag prémium, bőrbarát termékeket használunk.' },
  { question: 'Kombinálható más kezelésekkel?', answer: 'Igen! A HydraBeauty kiválóan kombinálható Carbon Peelinggel a még látványosabb eredményért. Kérdezd meg szakemberünket az optimális kombinációról.' },
];
---

<Layout
  title="HydraBeauty Arckezelés Budapest - Mélytisztítás és Hidratálás | Beautyflow"
  description="Professzionális HydraBeauty arckezelés Budapesten. Fájdalommentes mélytisztítás, hidratálás és bőrmegújítás egyetlen kezelés során. Azonnali eredmény! Kérj ingyenes konzultációt!"
>
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": faqs.map(faq => ({
      "@type": "Question",
      "name": faq.question,
      "acceptedAnswer": {
        "@type": "Answer",
        "text": faq.answer
      }
    }))
  })} />

  <!-- Service Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Service",
    "serviceType": "HydraBeauty Arckezelés",
    "name": "HydraBeauty Arckezelés Budapest",
    "description": "Professzionális HydraBeauty arckezelés Budapesten. Fájdalommentes mélytisztítás, hidratálás és bőrmegújítás.",
    "provider": {
      "@type": "LocalBusiness",
      "name": "Beautyflow Szépségszalon",
      "image": "https://beautyflow.hu/images/beautyflow-logo.png",
      "address": [
        {
          "@type": "PostalAddress",
          "streetAddress": "Vegyész u. 1.",
          "addressLocality": "Budapest",
          "postalCode": "1116",
          "addressCountry": "HU"
        },
        {
          "@type": "PostalAddress",
          "streetAddress": "Reitter Ferenc u. 90.",
          "addressLocality": "Budapest",
          "postalCode": "1135",
          "addressCountry": "HU"
        }
      ],
      "telephone": "+36 1 300 9414",
      "priceRange": "$$"
    },
    "areaServed": {
      "@type": "City",
      "name": "Budapest"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "HydraBeauty szolgáltatások",
      "itemListElement": hydrofacialAreas.map(item => ({
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": `HydraBeauty - ${item.name}`
        },
        "price": item.price.toString(),
        "priceCurrency": "HUF"
      }))
    }
  })} />

  <!-- Hero Section -->
  <section class="hero-section relative lg:h-[calc(100dvh-60px)] flex flex-col">
    <div class="flex flex-col lg:flex-row flex-1 min-h-0">
      <!-- Left column: Text content -->
      <div class="w-full lg:w-1/2 flex flex-col justify-center py-6 lg:py-8 order-2 lg:order-1 bg-[#fff9f7]">
        <div class="w-full px-[6%] text-center">
          <!-- Notino Award Badge -->
          <div class="inline-flex items-center gap-2 mb-4">
            <div class="relative">
              <div class="absolute inset-0 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full blur-sm opacity-50"></div>
              <div class="relative bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500 p-1 rounded-full">
                <div class="bg-white rounded-full p-1">
                  <img src="/images/notino-ikon.png" alt="Notino" class="w-8 h-8" />
                </div>
              </div>
            </div>
            <div class="text-left">
              <div class="flex items-center gap-1">
                <svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                <span class="text-xs font-semibold text-gray-700 uppercase tracking-wide">Díjnyertes szalon</span>
              </div>
              <span class="text-sm font-bold text-[#c53f75]">Notino "Hónap Szalonja"</span>
            </div>
          </div>

          <h1 class="text-[#c53f75] font-semibold uppercase tracking-wider text-sm lg:text-base mb-2">
            HydraBeauty arckezelés Budapesten
          </h1>
          <h2 class="font-heading text-[1.75rem] lg:text-[2.25rem] text-gray-900 mb-3 uppercase leading-tight">
            Legyen fiatalos és ragyogó az arcbőröd fájdalom és tűszúrás nélkül
          </h2>
          <p class="text-gray-600 mb-6 text-base lg:text-lg max-w-lg mx-auto">
            Unod, hogy a smink csak elrejti a fáradtságot? A HydraBeauty kezelés mélyen tisztít, hidratál és feltölti a bőröd – már az első alkalom után látványos változást hoz.
          </p>

          <!-- CTA row -->
          <div class="flex flex-col items-center justify-center gap-2">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-8 py-3 bg-[#c53f75] text-white font-semibold uppercase tracking-wide rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg text-sm lg:text-base"
            >
              Foglalj időpontot most!
            </a>
            <a
              href="tel:+3613009414"
              class="inline-flex items-center gap-2 text-base lg:text-lg text-[#c53f75] font-bold hover:text-[#a33460] transition-all duration-300"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
              +36 1 300 9414
            </a>
          </div>
        </div>
      </div>

      <!-- Right column: Hero image -->
      <div class="w-full lg:w-1/2 order-1 lg:order-2 relative overflow-hidden min-h-[300px] lg:min-h-0">
        <img
          src="/images/hydrabeauty-arckezeles.jpg"
          alt="HydraBeauty arckezelés Budapest"
          class="w-full h-full object-cover"
        />
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent lg:hidden"></div>

        <!-- Google Rating Badge -->
        <div class="absolute bottom-3 left-3 lg:bottom-5 lg:left-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-xl p-2 lg:p-3">
          <div class="flex items-center gap-2">
            <img src="/images/google-logo.jpg" alt="Google" class="w-7 h-7 lg:w-9 lg:h-9 rounded-full" />
            <div>
              <div class="flex items-center gap-1">
                <span class="text-base lg:text-xl font-bold text-gray-900 rating-number" data-target="5.0">0</span>
                <div class="flex">
                  {[1,2,3,4,5].map(() => (
                    <svg class="w-2.5 h-2.5 lg:w-3.5 lg:h-3.5 text-orange-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                  ))}
                </div>
              </div>
              <p class="text-[9px] lg:text-[11px] text-gray-600">Google értékelés alapján</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="w-full bg-gradient-to-r from-[#c53f75] to-[#a33460] py-4 lg:h-[80px] flex-shrink-0 flex items-center justify-center">
      <div class="max-w-[1000px] mx-auto px-4 w-full">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 lg:gap-8 h-full items-center">
          {stats.map((stat, index) => (
            <div class="text-center stat-item py-2 md:py-0" style={`animation-delay: ${index * 100}ms`}>
              <p class="text-[24px] lg:text-[32px] font-heading text-white font-bold leading-[0.9] mb-1">
                {stat.value}
              </p>
              <p class="text-white/80 text-[12px] lg:text-[16px] leading-[0.9]">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Intro Section with Fanni -->
  <section class="section-animate py-12 lg:py-16 bg-gradient-to-br from-[#fdf8f6] via-[#fff] to-[#f8f4f9]">
    <div class="max-w-[1100px] mx-auto px-4">
      <!-- White card containing both image and text -->
      <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
        <div class="flex flex-col lg:flex-row">
          <!-- Image - full width on mobile, max 400px height on desktop -->
          <div class="w-full lg:w-2/5 flex-shrink-0">
            <img
              src="/images/Konya-Fanni-szepsegszalon.jpg"
              alt="Kónya Fanni HydraBeauty szakértő"
              class="w-full h-auto lg:h-full object-cover object-top lg:max-h-[400px]"
            />
            <!-- Mobile signature - right below image -->
            <div class="lg:hidden flex items-center gap-3 p-4 bg-gray-50 border-t border-gray-100">
              <div class="w-10 h-10 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-5 h-5 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div>
                <p class="text-[#c53f75] font-semibold text-sm">Kónya Fanni</p>
                <p class="text-gray-500 text-xs">ügyvezető</p>
              </div>
            </div>
          </div>
          <!-- Text content -->
          <div class="w-full lg:w-3/5 p-6 lg:p-8 flex flex-col justify-center">
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              Ha reggelente úgy érzed, hogy hiába kened fel a legjobb krémet vagy alapozót, a bőröd fakónak, fáradtnak tűnik, akkor pontosan tudod, milyen bosszantó, amikor semmi nem hozza meg azt az üdeséget, amit szeretnél. <strong>A mitesszerek, tág pórusok vagy apró ráncok még inkább elvehetik az önbizalmad.</strong>
            </p>
            <p class="text-gray-700 mb-5 text-base leading-relaxed">
              A HydraBeauty kezelés pont erre nyújt megoldást: fájdalom nélkül tisztítja ki a pórusokat, hidratálja a bőrt és speciális hatóanyagokkal tölti fel, hogy <strong>azonnal frissebb, ragyogóbb és feszesebb legyen az arcod</strong>. Már az első alkalom után látni és érezni fogod a különbséget – a bőröd simább, puhább, fiatalosabb lesz.
            </p>
            <p class="text-gray-700 mb-6 text-base leading-relaxed">
              <strong>Ha zsíros az arcbőröd, folyamatosan harcolsz a mitesszerekkel, a tág pórusokkal, vagy csak szeretnéd megőrizni bőröd fiatalságát és egészségét, a HydraBeauty kezelést neked találták ki!</strong>
            </p>
            <!-- Desktop signature -->
            <div class="hidden lg:flex items-center gap-3 pt-4 border-t border-gray-200">
              <div class="w-12 h-12 rounded-full bg-[#c53f75]/10 flex items-center justify-center">
                <svg class="w-6 h-6 text-[#c53f75]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </div>
              <div>
                <p class="text-[#c53f75] font-semibold">Kónya Fanni</p>
                <p class="text-gray-500 text-sm">ügyvezető</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 1: Fiatalabb arcbőr - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <img
          src="/images/hydrabeauty-arckezeles-beautyflow.jpg"
          alt="Fiatalabb arcbőr HydraBeauty kezeléssel"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Fiatalabb arcbőr tűszúrás nélkül
          </h2>
          <p class="text-gray-700 mb-6">
            A HydraBeauty kezelés a modern bőrápolás egyik legnépszerűbb arckezelése, amely <strong>mélytisztítást, hidratálást és bőrmegújítást kínál egyetlen, kíméletes kezelés során</strong>. Ez a fájdalommentes, relaxáló eljárás minden bőrtípusra ajánlott, és már az első alkalom után látványos eredményt nyújt.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 2: Mélytisztítás - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Mélytisztítás, amire a bőröd vágyik
          </h2>
          <p class="text-gray-700 mb-6">
            Vákuumos technológiával kíméletesen, mégis alaposan eltávolítjuk az elhalt hámsejteket és a szennyeződéseket, így <strong>a bőröd fellélegzik, a pórusok kitisztulnak</strong>, és végre nem kell állandóan a mitesszerekkel küzdened.
          </p>
          <div class="text-center">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Kérj Ingyenes konzultációt
            </a>
          </div>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <img
          src="/images/hydrabeauty.jpg"
          alt="HydraBeauty mélytisztítás"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 3: Hidratálás - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <img
          src="/images/hydrabeauty-arckezeles.jpg"
          alt="HydraBeauty hidratálás"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            A bőröd nem öreg – csak szomjazik
          </h2>
          <p class="text-gray-700 mb-6">
            Speciális szérumok segítségével feltöltjük a bőrt nedvességgel, ezáltal rugalmassá és üdévé tesszük, így <strong>a fakó, száraz bőr helyett friss, puha és élettel teli arcbőrt</strong> láthatsz a tükörben.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section 4: Vitaminok - Text left, Image right -->
  <section class="section-animate bg-gray-50">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 order-2 lg:order-1">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            A bőröd számára fontos "vitaminok"
          </h2>
          <p class="text-gray-700 mb-6">
            Ahogyan a testednek vitaminokra van szüksége, úgy a bőrödnek is megvannak azok a célzott hatóanyagai, amelyeket a bőr mélyebb rétegeibe juttatva segítenek a <strong>bőr regenerálásában és feszesítésében</strong>, ezért a finom ráncok halványodnak, a bőr tónusa egyenletesebb lesz, és látványosan fiatalabbnak tűnik.
          </p>
        </div>
      </div>
      <div class="w-full lg:w-1/2 relative overflow-hidden order-1 lg:order-2">
        <img
          src="/images/hydrabeauty-arckezeles-beautyflow.jpg"
          alt="HydraBeauty vitaminok"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
    </div>
  </section>

  <!-- Benefits Section 5: Azonnali hatás - Image left, Text right -->
  <section class="section-animate">
    <div class="flex flex-col lg:flex-row">
      <div class="w-full lg:w-1/2 relative overflow-hidden">
        <img
          src="/images/hydrabeauty.jpg"
          alt="HydraBeauty azonnali eredmény"
          class="w-full h-64 lg:h-full object-cover transition-transform duration-700 hover:scale-105"
        />
      </div>
      <div class="w-full lg:w-1/2 flex items-center py-12 lg:py-16 bg-white">
        <div class="px-5 lg:px-[10%] text-left">
          <h2 class="font-heading text-[2rem] text-gray-900 mb-4 uppercase">
            Azonnali hatás
          </h2>
          <p class="text-gray-700 mb-6">
            A kezelés után a bőr azonnal látványosan simább, frissebb és élettel telibb lesz, így <strong>akár smink nélkül is magabiztosan indulhatsz el otthonról</strong> – hiszen a természetes szépséged kerül előtérbe.
          </p>
          <div class="text-center">
            <a
              href="/ingyenes-konzultacio"
              class="inline-block px-6 py-3 bg-[#c53f75] text-white font-semibold uppercase text-sm rounded-full hover:bg-[#a33460] transition-all duration-300 hover:scale-105 hover:shadow-lg"
            >
              Kérj Ingyenes konzultációt
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Interactive Price Calculator Section -->
  <section class="py-16 bg-gradient-to-b from-[#f9f5f3] to-white">
    <div class="max-w-[900px] mx-auto px-4">
      <h2 class="font-heading text-2xl lg:text-3xl text-gray-900 mb-4 text-center uppercase">
        HydraBeauty Árkalkulátor
      </h2>
      <p class="text-center text-gray-600 mb-10 max-w-2xl mx-auto">
        Válaszd ki a kezelés típusát és a kezelendő területet az azonnali árkiszámításhoz!
      </p>

      <div class="bg-white rounded-2xl shadow-xl p-6 lg:p-8">
        <!-- Step 1: Treatment Type Selection -->
        <div class="mb-8">
          <div class="flex items-center gap-3 mb-4">
            <span class="w-8 h-8 bg-[#c53f75] text-white rounded-full flex items-center justify-center font-bold text-sm">1</span>
            <h3 class="font-heading text-lg text-gray-900 uppercase">Válassz kezelés típust</h3>
          </div>

          <div class="grid sm:grid-cols-2 gap-4">
            {treatmentTypes.map((treatment) => (
              <label
                class="treatment-type-option flex flex-col p-5 rounded-xl border-2 border-gray-200 cursor-pointer transition-all duration-300 hover:border-[#c53f75] hover:bg-[#fdf8f6]"
                data-treatment={treatment.id}
              >
                <div class="flex items-center gap-3 mb-2">
                  <input
                    type="radio"
                    name="treatment-type"
                    value={treatment.id}
                    class="w-5 h-5 text-[#c53f75] border-gray-300 focus:ring-[#c53f75]"
                  />
                  <span class="font-bold text-gray-900 text-lg">{treatment.name}</span>
                </div>
                <p class="text-sm text-gray-500 ml-8">{treatment.description}</p>
              </label>
            ))}
          </div>
        </div>

        <!-- Step 2: Area Selection - Hidden until treatment type is selected -->
        <div id="area-selection" class="mb-8 hidden">
          <div class="flex items-center gap-3 mb-4">
            <span class="w-8 h-8 bg-[#c53f75] text-white rounded-full flex items-center justify-center font-bold text-sm">2</span>
            <h3 class="font-heading text-lg text-gray-900 uppercase">Válassz területet</h3>
          </div>

          <!-- HydroFacial Areas -->
          <div id="hydrofacial-areas" class="grid gap-3 hidden">
            {hydrofacialAreas.map((area) => (
              <label
                class="area-option flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 cursor-pointer transition-all duration-300 hover:border-[#c53f75] hover:bg-[#fdf8f6]"
                data-price={area.price}
                data-duration={area.duration}
                data-name={area.name}
              >
                <input
                  type="radio"
                  name="area"
                  value={area.id}
                  class="w-5 h-5 text-[#c53f75] border-gray-300 focus:ring-[#c53f75]"
                />
                <div class="flex-1 flex justify-between items-center">
                  <div>
                    <span class="font-semibold text-gray-900">{area.name}</span>
                    <p class="text-sm text-gray-500">{area.duration}</p>
                  </div>
                  <span class="text-[#c53f75] font-bold text-xl">{area.price.toLocaleString('hu-HU')} Ft</span>
                </div>
              </label>
            ))}
          </div>

          <!-- HydroFacial + Carbon Peeling Areas -->
          <div id="hydrofacial-carbon-areas" class="grid gap-3 hidden">
            {hydrofacialCarbonAreas.map((area) => (
              <label
                class="area-option flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 cursor-pointer transition-all duration-300 hover:border-[#c53f75] hover:bg-[#fdf8f6]"
                data-price={area.price}
                data-duration={area.duration}
                data-name={area.name}
              >
                <input
                  type="radio"
                  name="area"
                  value={area.id}
                  class="w-5 h-5 text-[#c53f75] border-gray-300 focus:ring-[#c53f75]"
                />
                <div class="flex-1 flex justify-between items-center">
                  <div>
                    <span class="font-semibold text-gray-900">{area.name}</span>
                    <p class="text-sm text-gray-500">{area.duration}</p>
                  </div>
                  <span class="text-[#c53f75] font-bold text-xl">{area.price.toLocaleString('hu-HU')} Ft</span>
                </div>
              </label>
            ))}
          </div>
        </div>

        <!-- Total Price Display -->
        <div class="bg-gradient-to-r from-[#c53f75] to-[#a33460] rounded-xl p-6 text-center">
          <p class="text-white/80 text-sm uppercase tracking-wide mb-2">Kezelés ára</p>
          <p class="text-white text-4xl lg:text-5xl font-bold mb-4">
            <span id="total-price">-</span> <span id="price-suffix" class="hidden">Ft</span>
          </p>
          <p class="text-white/70 text-sm mb-4" id="selected-summary">Válassz kezelés típust és területet</p>
          <a
            href="/ingyenes-konzultacio"
            class="inline-block px-8 py-3 bg-white text-[#c53f75] font-bold uppercase text-sm tracking-wide rounded-full hover:bg-gray-100 transition-all duration-300 hover:scale-105"
          >
            Foglalás most
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works-section relative overflow-hidden">
    <!-- Mobile: Image above everything like benefit sections -->
    <div class="lg:hidden">
      <img
        src="/images/hydrabeauty-arckezeles.jpg"
        alt="HydraBeauty kezelés folyamata"
        class="w-full h-64 object-cover object-top"
      />
    </div>

    <!-- Background image for desktop -->
    <div class="hidden lg:block absolute inset-0">
      <img
        src="/images/hydrabeauty-arckezeles.jpg"
        alt=""
        class="w-full h-full object-cover object-[center_30%]"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-[#e8e4e1] via-[#e8e4e1]/95 to-transparent"></div>
    </div>

    <!-- Mobile background for content area -->
    <div class="lg:hidden absolute inset-0 top-64 bg-[#e8e4e1]"></div>

    <div class="relative z-10 py-12 lg:py-16">
      <div class="max-w-[1200px] mx-auto px-4">
        <h2 class="font-heading text-3xl lg:text-4xl text-[#1e3a5f] mb-10 text-center uppercase">
          Hogyan működik?
        </h2>

        <div class="flex flex-col lg:flex-row gap-8">
          <!-- Cards - Swipeable on mobile -->
          <div class="lg:w-[60%]">
            <!-- Desktop: 2x2 grid -->
            <div class="hidden md:grid md:grid-cols-2 gap-4 md:gap-5">
              {howItWorks.map((step) => (
                <div class="bg-white rounded-lg shadow-md p-5 md:p-6">
                  <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                  <h3 class="font-heading text-base md:text-lg text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                  <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                </div>
              ))}
            </div>

            <!-- Mobile: Horizontal swipeable cards -->
            <div class="md:hidden overflow-x-auto scrollbar-hide -mx-4 px-4">
              <div class="flex gap-4 pb-4" style="width: max-content;">
                {howItWorks.map((step) => (
                  <div class="bg-white rounded-lg shadow-md p-5 flex-shrink-0" style="width: 280px;">
                    <p class="text-[#1e3a5f] font-bold text-sm mb-1">{step.number}</p>
                    <h3 class="font-heading text-base text-[#1e3a5f] mb-2 uppercase">{step.title}</h3>
                    <p class="text-gray-600 text-sm leading-relaxed">{step.description}</p>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <!-- Image placeholder for desktop - takes remaining space -->
          <div class="hidden lg:block lg:w-[40%]">
            <!-- Space for background image to show through -->
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Consultation Section -->
  <section class="py-12 bg-[#c53f75]">
    <div class="container mx-auto px-4">
      <div class="bg-white overflow-hidden max-w-[768px] mx-auto">
        <div class="flex flex-col lg:flex-row">
          <!-- Image Column -->
          <div class="lg:w-1/2 relative">
            <img
              src="/images/Konya-Fanni-szepsegszalon.jpg"
              alt="Kónya Fanni konzultáció"
              class="w-full h-full object-cover object-top"
              style="min-height: 350px;"
            />
            <div class="absolute bottom-6 left-0 right-0 text-center">
              <p class="font-semibold text-gray-900 bg-white/90 inline-block px-4 py-2">
                Kónya Fanni<br />
                <span class="text-sm text-gray-500 font-normal">ügyvezető</span>
              </p>
            </div>
          </div>

          <!-- Content Column -->
          <div class="lg:w-1/2 p-6 lg:p-8 flex flex-col justify-center">
            <h2 class="font-heading text-xl lg:text-2xl text-gray-900 mb-4 uppercase leading-tight font-bold">
              Igényeld az ingyenes<br />konzultációdat!
            </h2>

            <p class="text-gray-700 mb-2 text-sm">
              <span class="font-semibold">Beszéljünk, mielőtt belevágnál a HydraBeauty kezelésbe!</span>
            </p>
            <p class="text-gray-600 mb-3 text-sm">
              Egy kb. 15 perc hosszú INGYENES alkalom során megbeszéljük, hogy
            </p>

            <ul class="text-gray-600 mb-4 space-y-1 list-disc pl-5 text-sm">
              <li>milyen bőrproblémákat szeretnél kezelni</li>
              <li>melyik HydraBeauty csomag a legjobb neked</li>
              <li>érdemes-e kombinálni más kezelésekkel</li>
              <li>milyen azonnali és hosszú távú eredményre számíthatsz</li>
            </ul>

            <div class="text-center">
              <p class="text-gray-600 mb-1 text-sm">
                Kérd az ingyenes konzultációt telefonon az alábbi számon
              </p>
              <a
                href="tel:+3613009414"
                class="text-xl text-[#c53f75] font-bold hover:underline block mb-1"
              >
                +36 1 300 9414
              </a>
              <p class="text-gray-500 mb-3 text-sm">vagy</p>
              <a
                href="/ingyenes-konzultacio"
                class="inline-block px-6 py-2 bg-[#c53f75] text-white font-semibold uppercase text-xs tracking-wide hover:bg-[#a33460] transition-colors rounded-full"
              >
                Kérj Ingyenes konzultációt
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials Section (Notino Reviews) -->
  <section class="py-16 bg-[#f8f8f8]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Vendégeink mondták
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-stretch">
        {testimonials.map((testimonial) => (
          <div class="bg-white p-6 rounded-lg flex flex-col border border-[#d6d6d6] shadow-[12px_12px_5px_5px_#e6e6e6]">
            <div class="flex gap-0.5 mb-4">
              {[1, 2, 3, 4, 5].map(() => (
                <svg class="w-5 h-5 text-orange-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>
            <p class="text-gray-700 mb-4 leading-relaxed text-sm flex-1">
              {testimonial.text}
            </p>
            <div class="flex items-center gap-3 pt-4 border-t border-gray-200 mt-auto">
              <p class="font-semibold text-gray-900 text-sm flex-1">{testimonial.author}</p>
              <img
                src="/images/google-logo.jpg"
                alt="Google"
                class="w-7 h-7 object-contain flex-shrink-0"
              />
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Partners Section -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-[1000px] mx-auto px-4">
      <h2 class="font-heading text-2xl text-gray-900 mb-8 text-center uppercase">
        Partnereink
      </h2>
      <div class="flex flex-wrap justify-center items-center gap-8 lg:gap-12">
        <div class="flex flex-col items-center">
          <img src="/images/logok/notino-logo-sm.jpg" alt="Notino Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" />
        </div>
        <div class="flex flex-col items-center">
          <img src="/images/logok/skinlab.webp" alt="Skinlab Partner" class="h-12 w-auto grayscale hover:grayscale-0 transition-all duration-300" />
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Beautyflow Section -->
  <section class="py-16 bg-white">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-4 text-center uppercase">
        Miért a Beautyflow HydraBeauty kezelést válaszd?
      </h2>
      <p class="text-gray-600 text-center mb-12 max-w-2xl mx-auto">
        Több mint egy évtizedes tapasztalattal és prémium technológiával garantáljuk a ragyogó eredményt.
      </p>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Prémium technológia -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/ai-vezrelt-gepek.jpg"
              alt="HydraBeauty prémium technológia"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Prémium technológia</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              A legújabb generációs HydraBeauty géppel dolgozunk, amely kíméletesen, de hatékonyan tisztítja és hidratálja a bőröd.
            </p>
          </div>
        </div>

        <!-- Személyre szabott kezelés -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/testmeret.jpg"
              alt="Személyre szabott HydraBeauty"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Személyre szabott kezelés</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Minden HydraBeauty kezelést a te bőrtípusodhoz és igényeidhez igazítunk. Nincs két egyforma kezelés!
            </p>
          </div>
        </div>

        <!-- Relaxáló élmény -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/konya-fanni-szepsegszalonja.jpg"
              alt="Beautyflow relaxáló légkör"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Relaxáló élmény</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              A HydraBeauty nálunk nem csak kezelés, hanem igazi wellness élmény. Kávéval és teljes figyelemmel várunk.
            </p>
          </div>
        </div>

        <!-- Orvosi tisztaság -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/higienia.jpg"
              alt="Steril HydraBeauty környezet"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Orvosi szintű tisztaság</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Prémium, EU-bevizsgált szérumokat használunk, és orvosi tisztaságú környezetet biztosítunk minden kezeléshez.
            </p>
          </div>
        </div>

        <!-- Azonnali eredmény -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/hydrabeauty-arckezeles.jpg"
              alt="HydraBeauty azonnali eredmény"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Azonnali, látványos eredmény</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Már az első kezelés után észrevehető a különbség: tisztább pórusok, hidratált bőr és ragyogó arctónus.
            </p>
          </div>
        </div>

        <!-- Heti 7 napos nyitvatartás -->
        <div class="bg-[#fdf8f6] rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
          <div class="aspect-[4/3] overflow-hidden">
            <img
              src="/images/nyitva.jpg"
              alt="Heti 7 napos nyitvatartás"
              class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
            />
          </div>
          <div class="p-5">
            <h3 class="font-heading text-lg text-gray-900 mb-2 uppercase">Heti 7 napos nyitvatartás</h3>
            <p class="text-gray-600 text-sm leading-relaxed">
              Hétvégén is várunk! Tudjuk, hogy a hétköznapok zsúfoltak – ezért HydraBeauty kezelésre hétvégén is foglalhatsz.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 bg-gradient-to-b from-[#f0ebe8] to-[#e8e0dc]">
    <div class="max-w-[1100px] mx-auto px-4">
      <h2 class="font-heading text-3xl lg:text-4xl text-gray-900 mb-12 text-center uppercase">
        Gyakran Ismételt Kérdések
      </h2>

      <div class="grid md:grid-cols-2 gap-4">
        {faqs.map((faq) => (
          <div class="faq-item bg-white rounded-lg shadow-md overflow-hidden border border-gray-200 transition-all duration-500 hover:-translate-y-1 hover:shadow-xl">
            <button
              class="faq-question w-full text-left px-5 py-4 flex items-start justify-between gap-3 cursor-pointer transition-colors duration-300"
              aria-expanded="false"
            >
              <span class="faq-question-text font-semibold text-gray-900 pr-2 text-base transition-colors duration-300">{faq.question}</span>
              <span class="faq-icon flex-shrink-0 w-8 h-8 rounded-md flex items-center justify-center transition-all duration-500 bg-[#eef2ff]">
                <svg class="faq-icon-svg w-4 h-4 transition-transform duration-500 text-[#6366f1]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </span>
            </button>
            <div class="faq-answer">
              <div class="faq-answer-inner px-5 pb-5 text-gray-600 leading-relaxed text-sm">
                <p>{faq.answer}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-r from-[#6366f1] to-[#4f46e5]">
    <div class="max-w-[800px] mx-auto px-4 text-center">
      <h2 class="font-heading text-3xl lg:text-4xl text-white mb-4 uppercase">
        Készen állsz a ragyogó bőrre?
      </h2>
      <p class="text-white/90 mb-8 text-lg">
        Foglalj időpontot ingyenes konzultációra és tapasztald meg a HydraBeauty varázsát!
      </p>
      <a
        href="/ingyenes-konzultacio"
        class="inline-block px-10 py-4 bg-white text-[#6366f1] font-bold uppercase text-sm tracking-wide rounded-full hover:bg-gray-100 transition-all duration-300 hover:scale-105 shadow-lg"
      >
        Ingyenes konzultációt kérek
      </a>
    </div>
  </section>

  <!-- Locations Section -->
  <LocationsSection />
</Layout>

<script>
  function initRatingAnimation() {
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const ratingElements = document.querySelectorAll('.rating-number');

    if (prefersReducedMotion) {
      ratingElements.forEach(el => {
        el.textContent = el.getAttribute('data-target') || '5.0';
      });
      return;
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          const el = entry.target as HTMLElement;
          const target = parseFloat(el.getAttribute('data-target') || '5.0');
          animateRating(el, target);
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    ratingElements.forEach(el => observer.observe(el));
  }

  function animateRating(element: HTMLElement, target: number) {
    const duration = 1500;
    const start = 1;
    const startTime = performance.now();

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easeOut = 1 - Math.pow(1 - progress, 3);
      const current = start + (target - start) * easeOut;
      element.textContent = current.toFixed(1);
      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  function initFAQAccordion() {
    const faqItems = document.querySelectorAll('.faq-item');

    faqItems.forEach(item => {
      const question = item.querySelector('.faq-question');

      question?.addEventListener('click', () => {
        const isActive = item.classList.contains('active');

        faqItems.forEach(otherItem => {
          if (otherItem !== item) {
            otherItem.classList.remove('active');
            otherItem.querySelector('.faq-question')?.setAttribute('aria-expanded', 'false');
          }
        });

        item.classList.toggle('active');
        question.setAttribute('aria-expanded', (!isActive).toString());
      });
    });
  }

  function initPriceCalculator() {
    const treatmentTypeOptions = document.querySelectorAll('.treatment-type-option');
    const areaSelectionContainer = document.getElementById('area-selection');
    const hydrofacialAreasContainer = document.getElementById('hydrofacial-areas');
    const hydrofacialCarbonAreasContainer = document.getElementById('hydrofacial-carbon-areas');
    const totalPriceEl = document.getElementById('total-price');
    const priceSuffixEl = document.getElementById('price-suffix');
    const summaryEl = document.getElementById('selected-summary');

    let selectedTreatmentType = '';
    let selectedTreatmentName = '';
    let selectedAreaPrice = 0;
    let selectedAreaName = '';

    function updatePrice() {
      if (selectedAreaPrice > 0) {
        if (totalPriceEl) {
          totalPriceEl.textContent = selectedAreaPrice.toLocaleString('hu-HU');
        }
        if (priceSuffixEl) {
          priceSuffixEl.classList.remove('hidden');
        }
        if (summaryEl) {
          summaryEl.textContent = `${selectedTreatmentName} - ${selectedAreaName}`;
        }
      } else {
        if (totalPriceEl) {
          totalPriceEl.textContent = '-';
        }
        if (priceSuffixEl) {
          priceSuffixEl.classList.add('hidden');
        }
        if (summaryEl) {
          if (selectedTreatmentType) {
            summaryEl.textContent = 'Válassz területet';
          } else {
            summaryEl.textContent = 'Válassz kezelés típust és területet';
          }
        }
      }
    }

    function showAreas(treatmentType: string) {
      // Hide all area containers
      hydrofacialAreasContainer?.classList.add('hidden');
      hydrofacialCarbonAreasContainer?.classList.add('hidden');

      // Show the appropriate container
      if (treatmentType === 'hydrofacial') {
        hydrofacialAreasContainer?.classList.remove('hidden');
      } else if (treatmentType === 'hydrofacial-carbon') {
        hydrofacialCarbonAreasContainer?.classList.remove('hidden');
      }

      // Show the area selection section
      areaSelectionContainer?.classList.remove('hidden');

      // Reset area selection
      const allAreaOptions = document.querySelectorAll('.area-option');
      allAreaOptions.forEach(opt => {
        opt.classList.remove('border-[#c53f75]', 'bg-[#fdf8f6]');
        opt.classList.add('border-gray-200');
        const radio = opt.querySelector('input[type="radio"]') as HTMLInputElement;
        if (radio) radio.checked = false;
      });

      selectedAreaPrice = 0;
      selectedAreaName = '';
      updatePrice();
    }

    // Treatment type selection
    treatmentTypeOptions.forEach(option => {
      const radio = option.querySelector('input[type="radio"]') as HTMLInputElement;

      option.addEventListener('click', () => {
        // Remove selected state from all treatment type options
        treatmentTypeOptions.forEach(opt => {
          opt.classList.remove('border-[#c53f75]', 'bg-[#fdf8f6]');
          opt.classList.add('border-gray-200');
        });

        // Add selected state to clicked option
        option.classList.remove('border-gray-200');
        option.classList.add('border-[#c53f75]', 'bg-[#fdf8f6]');

        // Update radio
        if (radio) {
          radio.checked = true;
        }

        // Get treatment type
        selectedTreatmentType = option.getAttribute('data-treatment') || '';
        selectedTreatmentName = option.querySelector('.font-bold')?.textContent || '';

        // Show appropriate areas
        showAreas(selectedTreatmentType);
      });
    });

    // Area selection
    const allAreaOptions = document.querySelectorAll('.area-option');
    allAreaOptions.forEach(option => {
      const radio = option.querySelector('input[type="radio"]') as HTMLInputElement;

      option.addEventListener('click', () => {
        // Remove selected state from all area options in same container
        const parentContainer = option.closest('#hydrofacial-areas, #hydrofacial-carbon-areas');
        if (parentContainer) {
          parentContainer.querySelectorAll('.area-option').forEach(opt => {
            opt.classList.remove('border-[#c53f75]', 'bg-[#fdf8f6]');
            opt.classList.add('border-gray-200');
          });
        }

        // Add selected state to clicked option
        option.classList.remove('border-gray-200');
        option.classList.add('border-[#c53f75]', 'bg-[#fdf8f6]');

        // Update radio
        if (radio) {
          radio.checked = true;
        }

        // Update price
        selectedAreaPrice = parseInt(option.getAttribute('data-price') || '0');
        selectedAreaName = option.getAttribute('data-name') || '';
        updatePrice();
      });
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    initRatingAnimation();
    initFAQAccordion();
    initPriceCalculator();
  });
  document.addEventListener('astro:page-load', () => {
    initRatingAnimation();
    initFAQAccordion();
    initPriceCalculator();
  });
</script>

<style>
  .stat-item {
    opacity: 1;
  }

  /* Hide scrollbar for horizontal swipe */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .faq-answer {
    display: grid;
    grid-template-rows: 0fr;
    transition: grid-template-rows 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
    visibility: hidden;
    opacity: 0;
    transition: visibility 0s 0.4s, opacity 0.3s ease;
  }

  .faq-item.active .faq-answer {
    grid-template-rows: 1fr;
  }

  .faq-item.active .faq-answer-inner {
    visibility: visible;
    opacity: 1;
    transition: visibility 0s, opacity 0.3s ease 0.1s;
  }

  .faq-item.active {
    border-color: #6366f1;
    box-shadow: 0 10px 40px rgba(99, 102, 241, 0.15);
    transform: translateY(-2px);
  }

  .faq-item.active .faq-icon {
    transform: rotate(180deg);
    background-color: #6366f1 !important;
  }

  .faq-item.active .faq-icon-svg {
    color: white !important;
  }

  .faq-item.active .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-question-text {
    color: #6366f1;
  }

  .faq-item:hover .faq-icon {
    background-color: #eef2ff !important;
  }

  /* Price calculator custom radio styles */
  .treatment-type-option input[type="radio"]:checked,
  .area-option input[type="radio"]:checked {
    background-color: #c53f75;
    border-color: #c53f75;
  }
</style>
