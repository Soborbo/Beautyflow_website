---
import { Picture } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
  image: ImageMetadata;
  alt: string;
  class?: string;
  priority?: boolean;
}

const { image, alt, class: className, priority = true } = Astro.props;
---

<Picture
  src={image}
  widths={[400, 640, 828, 1200, 1600]}
  sizes="(max-width: 640px) 100vw, (max-width: 1024px) 80vw, 1200px"
  formats={['avif', 'webp']}
  quality={75}
  alt={alt}
  class:list={['service-hero-image', className]}
  loading={priority ? 'eager' : 'lazy'}
  fetchpriority={priority ? 'high' : 'auto'}
  decoding="async"
/>

<style>
  .service-hero-image {
    width: 100%;
    height: auto;
    object-fit: cover;
  }
</style>
